import{A as da,r as x,o as ma,a as Fe,t as pa,c as y,E as _a,b as t,d as ge,w as R,e as i,f as l,g as et,u as e,i as de,n as V,h as Ht,j as tt,k as a,l as me,_ as Re,m as r,p as J,q as At,s as z,v as ae,F as Z,x as ye,y as re,z as we,B as qt,C as at,D as Ze,I as fa,G as _t,H as se,J as ot,K as kt,L as Se,M as va,N as ga,P as ya,R as ha,O as ba,Q as ka,S as Ca,T as $a,U as Sa,V as wa,W as xa,X as Pa,Y as Ia,Z as Ea,$ as Ge,a0 as Tt,a1 as Da,a2 as Pt,a3 as Rt,a4 as pt,a5 as Gt,a6 as La,a7 as Ta,a8 as Yt,a9 as Ne,aa as Je,ab as Ba,ac as Fa,ad as za,ae as Ot,af as Aa,ag as Qt,ah as Ra,ai as Oa,aj as Xt,ak as Ma,al as Va,am as Bt,an as Ct,ao as Ft,ap as Mt,aq as ft,ar as $t,as as Oe,at as St,au as wt,av as Na,aw as Ua,ax as Wa,ay as ja,az as Ha,aA as qa}from"./stepForm.55e3b8a9.js";const Ga={key:0,class:"am-dialog__title"},Ja={inheritAttrs:!1},rt=Object.assign(Ja,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:da},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(f,{emit:L}){const u=f,$=x(null);ma(()=>{C()}),Fe(()=>{u.usedForShortcode&&($.value.rendered=!0),C()});function C(){u.customStyles&&Object.keys(u.customStyles).forEach(s=>{$.value.style[s]=u.customStyles[s]})}let{modelValue:T}=pa(u),m=y({get:()=>T.value,set:s=>{L("update:modelValue",s)}});return(s,d)=>{const g=_a;return t(),ge(g,{ref_key:"amDialogRef",ref:$,modelValue:e(m),"onUpdate:modelValue":d[0]||(d[0]=S=>de(m)?m.value=S:m=S),"modal-class":`am-dialog-popup ${u.modalClass}`,title:u.title,width:u.width,fullscreen:u.fullscreen,top:u.top,modal:u.modal,"append-to-body":u.appendToBody,"lock-scroll":u.lockScroll,"custom-class":u.customClass,"open-delay":u.openDelay,"close-delay":u.closeDelay,"close-on-click-modal":u.closeOnClickModal,"close-on-press-escape":u.closeOnPressEscape,"show-close":u.showClose,"before-close":u.beforeClose,center:u.center,"destroy-on-close":u.destroyOnClose,"close-icon":u.closeIcon,onClose:d[1]||(d[1]=S=>L("close")),onOpen:d[2]||(d[2]=S=>L("open")),onClosed:d[3]||(d[3]=S=>L("closed")),onOpened:d[4]||(d[4]=S=>L("opened"))},{title:R(()=>[f.title?(t(),i("span",Ga,l(f.title),1)):et(s.$slots,"title",{key:1})]),footer:R(()=>[et(s.$slots,"footer")]),default:R(()=>[et(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),Ya={name:"IconComponent"},xt=Object.assign(Ya,{props:{icon:{type:String,required:!0}},setup(f){return(L,u)=>(t(),i("span",{class:V(`am-icon-${f.icon}`)},null,2))}});const Qa={class:"am-cat__header-inner"},Xa={class:"am-cat__back-btn"},Za={key:0,class:"am-cat__cart-btn"},Ka={class:"am-cat__cart-number"},ei={name:"MainHeader"},Vt=Object.assign(ei,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(f,{emit:L}){const u=f;let $=Ht({components:{IconComponent:xt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=Ht({components:{IconComponent:xt},template:'<IconComponent icon="cart"/>'});function T(){L("goBack")}const m=tt();function s(){At(m),L("goToCart")}return(d,g)=>(t(),i("div",Qa,[a("div",Xa,[e(u).backBtnVisibility?(t(),ge(Re,{key:0,prefix:e($),category:"secondary",type:f.btnType,size:f.btnSize,onClick:T},{default:R(()=>[me(l(e(u).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(u).cartBtnVisibility?(t(),i("div",Za,[a("span",Ka,l(e(u).cartItemsNumber),1),J(Re,{category:"secondary",type:f.btnType,size:f.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const ti={class:"am-cat__sidemenu-item__wrapper"},ai=["onClick"],ii={key:0,class:"am-cat__sidemenu-footer"},si={class:"am-cat__sidemenu-footer__text"},li=["href"],oi={name:"SideMenu"},ni=Object.assign(oi,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(f,{emit:L}){const u=f;function $(m){L("click",m)}let C=z("amColors"),T=y(()=>({"--am-c-csm-text-op10":ae(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ae(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ae(C.value.colorSbText,.6),"--am-c-csm-text-op80":ae(C.value.colorSbText,.8)}));return(m,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(T))},[a("div",ti,[(t(!0),i(Z,null,ye(f.menuItems,(d,g)=>(t(),i("div",{key:g,class:V(["am-cat__sidemenu-item",{"am-active":e(u).initSelection===d[e(u).identifier]}]),onClick:()=>$(d)},l(d[e(u).nameIdentifier]),11,ai))),128))]),e(u).companyEmail?(t(),i("div",ii,[a("span",si,l(e(u).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(u).companyEmail}`},l(e(u).companyEmail),9,li)])):r("",!0)],4))}});const ci={name:"MainContent"},Nt=Object.assign(ci,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(f,{expose:L}){let u=x(null),$=x(0),C=x(null),T=x(0),m=x(null),s=x(0),d=x(null),g=x(null),S=x(0);window.addEventListener("resize",k);function k(){we(()=>{u.value&&($.value=u.value.offsetWidth),C.value&&(T.value=C.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}Fe(()=>{we(()=>{if(m.value&&d.value){let U=m.value.offsetHeight-d.value.offsetHeight-2;S.value=U<=656?656:U}k()})}),L({catHeaderWidth:$,catFormWidth:s,catContainerWidth:T});let P=z("amColors"),v=y(()=>({"--am-h-cat-content":`${S.value}px`,"--am-c-scroll-op30":ae(P.value.colorPrimary,.3),"--am-c-scroll-op10":ae(P.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:V(["am-cat__wrapper",f.wrapperClass])},[a("div",{ref_key:"catHeader",ref:u,class:"am-cat__header"},[et(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[et(U.$slots,"side"),a("div",{ref_key:"catForm",ref:m,class:V(["am-cat__form",f.formClass]),style:re(e(v))},[a("div",{ref_key:"catHeading",ref:d,class:V(["am-cat__heading",f.headingClass])},[et(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:g,class:V(["am-cat__content",f.contentClass])},[et(U.$slots,"content")],2)],6)],512)],2))}}),ri={name:"AmImagePlaceholder"},nt=Object.assign(ri,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(f){const L=f;function u(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${qt.value[Math.floor(Math.random()*qt.value.length)]}`}}function $(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,L.trimString).replace(/[^\w\s]/g,"")}return(C,T)=>(t(),i("span",{class:V(e(L).itemClass),style:re({...u(e(L).itemData)})},l($(e(L).itemData)),7))}}),zt=at(window.wpAmeliaSettings),Jt=at(window.wpAmeliaLabels);function Zt(f,L,u,$=null,C=null){let T=[],m=f&&f.service?f.service.split(",").map(s=>parseInt(s)):null;return L&&L.serviceList.forEach(s=>{$?$ in u.entitiesRelations&&s.id in u.entitiesRelations[$]&&(C?u.entitiesRelations[$][s.id].find(d=>d===C):!0)&&s.status==="visible"&&s.show&&!T.filter(d=>d===s.id).length&&(!m||m.includes(s.id))&&T.push(s.id):u.employees.forEach(d=>{d.id in u.entitiesRelations&&s.id in u.entitiesRelations[d.id]&&(C?u.entitiesRelations[d.id][s.id].find(g=>g===C):!0)&&s.status==="visible"&&s.show&&!T.filter(g=>g===s.id).length&&(!m||m.includes(s.id))&&T.push(s.id)})}),T}function Kt(f,L){let u=[],$=[];f.employees.forEach(m=>{if(m.id in f.entitiesRelations&&L in f.entitiesRelations[m.id]){let s=m.serviceList.find(d=>d.id===L);u.push(s.maxCapacity),$.push(s.minCapacity)}});let C=$.reduce((m,s)=>s<m?s:m,$[0]),T=u.reduce((m,s)=>s>m?s:m,u[0]);return C!==T?`${C}/${T}`:C}function ea(f){let L=Math.floor(f/3600),u=f/60%60;return(L?L+Jt.h+" ":"")+" "+(u?u+Jt.min:"")}function ct(f,L){let u=[];f.employees.forEach(T=>{if(T.id in f.entitiesRelations&&L in f.entitiesRelations[T.id]){let m=T.serviceList.find(s=>s.id===L);u.push(m.price)}});let $=u.reduce((T,m)=>m<T?m:T,u[0]),C=u.reduce((T,m)=>m>T?m:T,u[0]);return $!==C?{price:`${Ze($,!zt.payments.hideCurrencySymbolFrontend)} - ${Ze(C,!zt.payments.hideCurrencySymbolFrontend)}`,min:$,max:C}:{price:Ze($,zt.payments.hideCurrencySymbolFrontend),min:$,max:C}}function Ae(f,L){let u=[];return f.employees.forEach($=>{$.id in f.entitiesRelations&&L in f.entitiesRelations[$.id]&&f.entitiesRelations[$.id][L].length&&f.locations.forEach(C=>{f.entitiesRelations[$.id][L].some(T=>T===C.id)&&!u.find(T=>T===C.id)&&u.push(C)})}),u}function ui(f,L){let u=[],$=Object.keys(f.entitiesRelations);return L.bookable.forEach(C=>{let T=[];$.forEach(m=>{f.entitiesRelations[m]&&f.entitiesRelations[m][C.service.id]&&!T.find(s=>s?s.id===parseInt(m):!0)&&T.push(f.employees.find(s=>s.id===parseInt(m)))}),T.length||u.push(!1)}),u.filter(C=>C===!1).length}function di(f,L,u){let $=[],C=Object.keys(f.entitiesRelations),T=u&&u.employee?u.employee.split(",").map(s=>parseInt(s)):null,m=x(T?f.unfilteredEmployees.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):f.unfilteredEmployees);return L.bookable.forEach(s=>{let d=[];s.providers.length?s.providers.forEach(g=>{s.locations.length?s.locations.forEach(S=>{m.value.find(k=>k.id===g.id)&&f.entitiesRelations[g.id]&&f.entitiesRelations[g.id][s.service.id]&&f.entitiesRelations[g.id][s.service.id].indexOf(S.id)!==-1&&!d.find(k=>k.id===g.id)&&d.push(m.value.find(k=>k.id===g.id))}):m.value.find(S=>S.id===g.id)&&!d.find(S=>S.id===g.id)&&d.push(m.value.find(S=>S.id===g.id))}):C.forEach(g=>{s.locations.length?s.locations.forEach(S=>{f.entitiesRelations[g]&&f.entitiesRelations[g][s.service.id]&&f.entitiesRelations[g][s.service.id].indexOf(S.id)!==-1&&m.value.find(k=>k.id===parseInt(g))&&!d.find(k=>k.id===parseInt(g))&&d.push(m.value.find(k=>k.id===parseInt(g)))}):f.entitiesRelations[g]&&f.entitiesRelations[g][s.service.id]&&m.value.find(S=>S.id===parseInt(g))&&!d.find(S=>S.id===parseInt(g))&&d.push(m.value.find(S=>S.id===parseInt(g)))}),$.push(!!d.length)}),!$.filter(s=>s===!1).length}function ta(f,L,u){let $=[],C=Object.keys(f.entitiesRelations),T=u&&u.employee?u.employee.split(",").map(s=>parseInt(s)):null,m=x(T?f.unfilteredEmployees.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):f.unfilteredEmployees);return L.bookable.forEach(s=>{s.providers.length?s.providers.forEach(d=>{s.locations.length?s.locations.forEach(g=>{m.value.find(S=>S.id===d.id)&&f.entitiesRelations[d.id]&&f.entitiesRelations[d.id][s.service.id]&&f.entitiesRelations[d.id][s.service.id].indexOf(g.id)!==-1&&!$.find(S=>S.id===d.id)&&$.push(m.value.find(S=>S.id===d.id))}):m.value.find(g=>g.id===d.id)&&!$.find(g=>g.id===d.id)&&$.push(m.value.find(g=>g.id===d.id))}):C.forEach(d=>{s.locations.length?s.locations.forEach(g=>{f.entitiesRelations[d]&&f.entitiesRelations[d][s.service.id]&&f.entitiesRelations[d][s.service.id].indexOf(g.id)!==-1&&m.value.find(S=>S.id===parseInt(d))&&!$.find(S=>S.id===parseInt(d))&&$.push(m.value.find(S=>S.id===parseInt(d)))}):f.entitiesRelations[d]&&f.entitiesRelations[d][s.service.id]&&m.value.find(g=>g.id===parseInt(d))&&!$.find(g=>g.id===parseInt(d))&&$.push(m.value.find(g=>g.id===parseInt(d)))})}),$}function lt(f,L,u){let $=[],C=Object.keys(f.entitiesRelations),T=u&&u.location?u.location.split(",").map(s=>parseInt(s)):null,m=x(T?f.unfilteredLocations.filter(s=>T.map(d=>parseInt(d)).includes(s.id)):f.unfilteredLocations);return L.bookable.forEach(s=>{s.locations.length?s.locations.forEach(d=>{m.value.find(g=>g.id===d.id)&&!$.find(g=>g.id===d.id)&&$.push(m.value.find(g=>g.id===d.id))}):C.forEach(d=>{m.value.forEach(g=>{d in f.entitiesRelations&&s.service.id in f.entitiesRelations[d]&&f.entitiesRelations[d][s.service.id].indexOf(g.id)!==-1&&m.value.find(S=>S.id===g.id)&&!$.find(S=>S.id===parseInt(g.id))&&$.push(m.value.find(S=>S.id===g.id))})})}),$}function bt(f,L,u=null,$=null){let C=[];return f.categories.forEach(T=>{let m=Zt(L,T,f,u,$);T.serviceIdList=m,T.packageList=[],f.packages.forEach(s=>{m.forEach(d=>{s.bookable.filter(g=>g.service.id===d).length&&!T.packageList.filter(g=>g===s.id).length&&s.available&&s.status==="visible"&&!ui(f,s)&&di(f,s,L)&&T.packageList.push(s.id)})}),T.status==="visible"&&T.serviceList.length&&!!m.length&&(L.show==="packages"?!!T.packageList.length:!0)&&C.push(T)}),C}const mi={class:"am-fcl__item-inner"},pi={class:"am-fcl__item-name"},_i={class:"am-fcl__item-segments"},fi={key:0,class:"am-fcl__item-segments__item"},vi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),gi={class:"am-fcl__item-segments__item-count"},yi={key:1,class:"am-fcl__item-segments__item"},hi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),bi={class:"am-fcl__item-segments__item-count"},ki={class:"am-fcl__item-footer"},Ci=["src"],$i={class:"am-empty__heading"},Si={class:"am-empty__subheading"},wi={class:"am-empty__text"},xi={key:0},Pi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ii={key:1},Ei={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Di={name:"CategoriesList",key:"categoriesList"},Li=Object.assign(Di,{setup(f){const L=z("baseUrls");let u=x(null),$=x(0);window.addEventListener("resize",C);function C(){u.value&&($.value=u.value.offsetWidth)}Fe(()=>{u.value&&($.value=u.value.offsetWidth)});let T=y(()=>$.value<=500?"am-w100":$.value<=600?"am-w50":$.value<=768?"am-w33":""),{nextPage:m}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let d=tt(),g=z("amEntities"),S=z("customizedDataForm"),k=y(()=>S.value.categoriesList.options);const P=z("shortcodeData"),v=y(()=>d.getters["entities/getPreselected"]);let U=z("availableCategories"),te=y(()=>U.value),E=z("categorySelected");function F(he){E.value=he,d.commit("booking/setCategoryId",parseInt(he)),_t(d,{},"SelectCategory","appointment",null,null),m()}let c=y(()=>te.value.length===0);const H=z("labels"),oe=z("localLanguage");let G=y(()=>s.general.usedLanguages.includes(oe.value)),pe=y(()=>{let he=at({...H});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let ne=s.customizedData.cbf.categoriesList.translations;Object.keys(ne).forEach(_=>{ne[_][oe.value]&&G.value?he[_]=ne[_][oe.value]:ne[_].default&&(he[_]=ne[_].default)})}return he}),Ce=z("amColors"),N=y(()=>({"--am-c-fcl-card-text-op80":ae(Ce.value.colorCardText,.8)}));return(he,ne)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:u,class:"am-empty"},[a("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ci),a("div",$i,l(e(pe).oops),1),a("div",Si,l(e(v).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",wi,[e(v).show!=="packages"?(t(),i("span",xi,l(e(pe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pi,l(e(pe).add_services_url)+"\xA0 ",1),e(v).show!=="packages"?(t(),i("span",Ii,l(e(pe).and)+"\xA0 ",1)):r("",!0),e(v).show!=="packages"?(t(),i("a",Ei,l(e(pe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:u,class:"am-fcl",style:re(e(N))},[(t(!0),i(Z,null,ye(e(te),_=>(t(),i("div",{key:_.id,class:V(["am-fcl__item",e(T)])},[a("div",mi,[a("div",{class:"am-fcl__item-content",style:re(e(k).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:_.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(k).cardColor&&e(k).cardColor.visibility?{backgroundColor:e(ae)(_.color,.1)}:{})},[_.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${_.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",pi,l(_.name),1),a("div",_i,[(!e(v).show||e(v).show==="services")&&e(k).services.visibility?(t(),i("div",fi,[vi,a("span",gi,l(e(Zt)(e(P),_,e(g)).length),1)])):r("",!0),(!e(v).show||e(v).show==="packages")&&_.packageList.length&&e(k).packages.visibility?(t(),i("div",yi,[hi,a("span",bi,l(_.packageList.length),1)])):r("",!0)])],4),a("div",ki,[J(Re,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(k).cardButton.buttonType,suffix:e(fa),onClick:ve=>F(_.id)},{default:R(()=>[me(l(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ti=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Bi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Fi=["href"],zi={class:"am-fs-sb__step-wrapper"},Ai={class:"am-fs-sb__step-inner"},Ri={class:"am-fs-sb__step-icon"},Oi={key:0,class:"am-icon-check"},Mi={key:0},Vi={key:1},Ni={key:1},Ui={key:0,class:"am-fs-sb__step"},Wi={class:"am-fs-sb__step-inner"},ji={class:"am-fs-sb__step-icon"},Hi={key:0,class:"am-icon-check"},qi={key:0,class:"am-fs-sb__support"},Gi=["href"],Ji={key:1,class:"am-icon-phone"},Yi=["href"],Qi={key:1,class:"am-icon-email"},Xi={key:0,class:"am-fs-sb__menu-text"},Zi={key:2,class:"am-no-services"},Ki=["src"],es={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ts={style:{"font-size":"14px"}},as={href:"https://wpamelia.com/employees/",rel:"nofollow"},is={name:"CategoryBooking"},Ut=Object.assign(is,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(f,{emit:L}){const u=f;let $=x(null),C=x();se("containerWidth",C);let T=x(!1);window.addEventListener("resize",m);function m(){$.value&&(C.value=$.value.offsetWidth)}Fe(()=>{we(()=>{$.value&&(C.value=$.value.offsetWidth)}),_t(c,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=z("settings"),d=s.customizedData?s.customizedData.sbsNew:ot.sbsNew;d&&se("amCustomize",d);let g=y(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in d.sidebar.options&&(n.heading=d.sidebar.options.supportHeading.visibility),"companyPhone"in d.sidebar.options&&(n.phone=d.sidebar.options.companyPhone.visibility),"companyEmail"in d.sidebar.options&&(n.email=d.sidebar.options.companyEmail.visibility),n});const S=x(s.customizedData?s.customizedData.fonts:ot.fonts);se("amFonts",S);let k=x(!1);se("sidebarCollapsed",k);let P=x(""),v=z("bookingDialogWidth");kt(k,n=>{n?setTimeout(()=>{P.value="am-collapsed",setTimeout(()=>{v.value="592px"},200)},1e3):(P.value="",v.value="760px")}),Fe(()=>{d.sidebar.options.self.visibility||(v.value="520px")});let U=x(null),te=x(0);Fe(()=>{setTimeout(()=>{we(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let E=x(d.sidebar?d.sidebar.options.self.visibility:!0);const F=z("baseUrls"),c=tt();let H=y(()=>{let n=c.getters["entities/getOriginalPreselected"],b={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(I=>{I in b||(b[I]=n[I])}),b});c.commit("entities/setPreselected",H.value);let oe=z("restoreFormData");const G=Se(va),pe=Se(ga),Ce=Se(ya),N=Se(ha),he=Se(ba),ne=Se(ka),_=Se(Ca),ve=Se($a),$e=Se(Sa),_e=Se(wa),fe=Se(xa),ee=Se(Pa),Le=Se(Ia),Te=Se(Ea),p=x(Ge(c)?[G,ne,_e,fe,$e]:[G,ne,fe,$e]);se("stepsArray",p);const Y=z("labels"),q=z("localLanguage");let M=y(()=>s.general.usedLanguages.includes(q.value)),Be=Tt(c),ie=y(()=>{let n=at({...Y});return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(b=>{if(b!=="colors"&&s.customizedData.sbsNew[b].translations){let I=s.customizedData.sbsNew[b].translations;Object.keys(I).forEach(Q=>{I[Q][q.value]&&M.value?n[Q]=I[Q][q.value]:I[Q].default&&(n[Q]=I[Q].default)})}}),n});se("amLabels",ie);let Ue=y(()=>{let n={};if(s.customizedData){let b=s.customizedData.sbsNew[p.value[w.value].key]?s.customizedData.sbsNew[p.value[w.value].key].translations:null;s.customizedData&&b&&Object.keys(b).forEach(I=>{b[I][q.value]&&M.value?n[I]=b[I][q.value]:b[I].default&&(n[I]=b[I].default)})}return Object.keys(n).length?n:Y}),ze=y(()=>{let n="filled";return s.customizedData&&s.customizedData.sbsNew[p.value[w.value].key]&&(n=s.customizedData.sbsNew[p.value[w.value].key].options.primaryFooterButton.buttonType),n});se("primFooterBtnType",ze),se("primDescBtnType",ze);let X=y(()=>{let n="text";return s.customizedData&&s.customizedData.sbsNew[p.value[w.value].key]&&s.customizedData.sbsNew[p.value[w.value].key].options.secondaryFooterButton&&(n=s.customizedData.sbsNew[p.value[w.value].key].options.secondaryFooterButton.buttonType),n}),W=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),A=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ue(n,b){let I="";if(s.customizedData){let Q=s.customizedData.sbsNew[b]?s.customizedData.sbsNew[b].translations:null;s.customizedData&&Q&&Q[n]&&(I===""&&Q[n][q.value]&&M.value?I=Q[n][q.value]:I===""&&Q[n].default&&(I=Q[n].default))}return I||Y[n]}let Ee=y(()=>Da(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Me(){let n=c.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(p.value.splice(0,1),K.value.splice(0,1),De()),le();else{D();let b=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,I=!d.initStep.options.employee.visibility,Q=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,Ie=!d.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||b||I)&&(n.location.length>0||Q||Ie)&&(Ee.value.availability?(p.value.splice(0,1,Te),K.value.splice(0,1)):(p.value.splice(0,1),K.value.splice(0,1)),le())}}function xe(n,b,I,Q){n.value.map((je,Xe)=>b.includes(je.name)?Xe:null).filter(je=>je!==null).reverse().forEach(je=>{n.value.splice(je,1)});let qe={value:Q};I.forEach(je=>{n.value.indexOf(je)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?n.value.splice(qe.value,0,je):n.value.splice(qe.value+1,0,je))})}se("goToPackageStep",{goToPackageStep:Ke});function Ke(n){c.commit("booking/setPackageId",n.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",Pt(0,n)),c.commit("booking/setMultipleAppointmentsIndex",0);let b=n.bookable.reduce((Ie,qe)=>Ie+qe.maximumScheduled,0),I=[],Q=[];p.value[0]!==pe&&I.push("ExtrasStep"),p.value[0]!==ne&&I.push("DateTimeStep"),p.value[0]!==_e&&I.push("CartStep"),b>0?Q=Q.concat([ve,_,Ce]):Q.push(Ce),xe(p,I,Q,w.value),xe(K,I,[],w.value),le(),st()}function De(){let b=c.state.entities.packages.find(Ie=>Ie.id===c.getters["booking/getPackageId"]).bookable.reduce((Ie,qe)=>Ie+qe.maximumScheduled,0),I=[],Q=[];p.value.find(Ie=>Ie.name==="ExtrasStep")&&I.push("ExtrasStep"),p.value.find(Ie=>Ie.name==="DateTimeStep")&&I.push("DateTimeStep"),b>0?Q=Q.concat([ve,_,Ce]):Q.push(Ce),xe(p,I,Q,w.value),xe(K,I,[],w.value),le(),st()}function it(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),pt(c);let n=[];p.value[0]!==ne&&(Ge(c)&&n.push(_e),n.push(ne)),p.value[0]!==pe&&B.value&&B.value.length&&n.push(pe),xe(p,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,w.value-1),xe(K,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],w.value),le()}se("goToRecurringStep",{goToRecurringStep:ut}),se("removeRecurringStep",{removeRecurringStep:j});function ut(){Ge(c)&&ia();let n=0;for(let b=0;b<p.value.length;b++)if(p.value[b].name==="DateTimeStep"){n=b;break}p.value.splice(n+1,0,N),p.value.splice(n+2,0,he),le(),st()}function j(){for(let n=p.value.length-1;n>=0;n--)(p.value[n].name==="RecurringStep"||p.value[n].name==="RecurringSummary")&&p.value.splice(n+1,1);Ge(c)&&aa(w.value),le()}let B=y(()=>{let n=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return n?n.extras:[]});function D(){B.value.length&&!p.value.find(n=>n.name==="ExtrasStep")&&(p.value.splice(w.value+1,0,pe),le()),K.value.find(n=>n.name==="ExtrasStep")&&!Object.keys(B.value).length&&(p.value.splice(1,1),K.value.splice(1,1)),u.showCart||pt(c)}se("initDataChanges",{changeInitStepDataService:D});const w=x(0);se("stepIndex",w);let dt=z("stepName",x(""));kt(w,(n,b)=>{n<K.value.length&&(K.value[b].selected=!1,K.value[n].selected=!0),n===K.value.length&&(K.value[b].selected=!1),dt.value=p.value[n].name});let Ye=x(!1);se("goBackToPackageBooking",Ye);function vt(){o(!1),Pe.value||(p.value[w.value].name===Ce.name&&it(),p.value[w.value].name===N.name&&(p.value.splice(w.value,2),K.value.splice(w.value,2),Ge(c)&&(p.value.splice(w.value,0,_e),xe(K,[],[],w.value),le())),p.value[w.value].name===ve.name&&(Ye.value=!0),w.value=w.value-1),be.value=!be.value}function st(){Pe.value||(K.value[w.value].finished=!0,w.value=w.value+1)}let gt=y(()=>c.getters["entities/getReady"]),yt=y(()=>c.getters["booking/getLoading"]),Qe=y(()=>c.getters["booking/getBooked"]),It=y(()=>c.getters["booking/getPaymentGateway"]),mt=x(!1),ht=x(!1),be=x(!1);function Et(){mt.value=!0}function Dt(){mt.value=!1}function O(){be.value=!0}function h(){be.value=!1}function o(n){ht.value=n}function ce(){Qe.value&&(Qe.value.customerCabinetUrl?window.location.href=Qe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:ce});let Pe=x(!1);se("changingStepsFunctions",{nextStep:st,previousStep:vt,footerButtonClick:Et,footerButtonReset:Dt,footerBtnDisabledUpdater:o,headerButtonPreviousClick:O,headerButtonPreviousReset:h,footerBtnDisabled:ht,footerButtonClicked:mt,headerButtonPreviousClicked:be,navigateInsideStep:Pe});const K=x([]);se("sidebarSteps",K);function He(n){K.value[w.value].stepSelectedData.filter(b=>b.reference===n.reference).length?K.value[w.value].stepSelectedData.forEach((b,I,Q)=>{b.reference===n.reference&&n.value&&n.value!==b.value&&(b.value=n.value),b.reference===n.reference&&!n.value&&Q.splice(I,1)}):n.value&&K.value[w.value].stepSelectedData.push(n),K.value[w.value].stepSelectedData.sort((b,I)=>b.position-I.position)}function We(){p.value.forEach((n,b)=>{if(n.name!=="CongratulationsStep"){let I=n.sidebarData.label,Q={name:n.name,key:n.key,label:ie.value[I],labelKey:I,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===w.value};K.value.splice(b,0,Q)}})}Rt(()=>{We(),Me()}),Fe(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":u.showCart||pt(c);break}if(u.showCart&&Gt(p,w),oe.value){p.value.splice(0,p.value.length),K.value.splice(0,K.value.length),w.value=0,oe.value.steps.forEach(b=>{switch(b){case"packageStep":p.value.push(Le);break;case"bringingAnyone":p.value.push(Te);break;case"initStep":p.value.push(G);break;case"packageInfoStep":p.value.push(Ce);break;case"packageAppointmentsStep":p.value.push(_);break;case"packageAppointmentsListStep":p.value.push(ve);break;case"extrasStep":p.value.push(pe);break;case"dateTimeStep":p.value.push(ne);break;case"recurringStep":p.value.push(N);break;case"recurringSummary":p.value.push(he);break;case"cartStep":p.value.push(_e);break;case"infoStep":p.value.push(fe);break;case"paymentStep":p.value.push(ee);break;case"congratulations":p.value.push($e);break}let I=oe.value.sidebar.find(Q=>Q.key===b);le(),typeof I<"u"&&I.data&&I.data.forEach(Q=>{He({reference:Q.reference,position:Q.position,value:Q.value})}),w.value++}),c.commit("booking/setLoading",!1);let n=-1;oe.value.result==="success"?n=p.value.length-1:(oe.value.result==="error"||oe.value.result==="canceled")&&(n=p.value.length-2);for(let b=0;b<=n;b++)p.value[b].finished=!0;for(let b=0;b<=n-1;b++)K.value[b].finished=!0,K.value[b].selected=!1;(oe.value.result==="error"||oe.value.result==="canceled")&&(K.value[n].finished=!1,K.value[n].selected=!0),w.value=n}});function le(){p.value.forEach((n,b)=>{if(n.name!=="CongratulationsStep"&&!K.value.find(I=>I.labelKey===n.sidebarData.label)){let I=n.sidebarData.label,Q={name:n.name,key:n.key,label:ie.value[I],labelKey:I,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:b===w.value};K.value.splice(b,0,Q)}})}se("sidebarStepsFunctions",{sidebarDataCollector:He}),se("addPaymentsStep",{addPaymentsStep:Wt}),se("removePaymentsStep",{removePaymentsStep:jt});function Wt(){p.value.splice(p.value.length-1,0,ee),le()}function jt(){let n=["PaymentStep"];xe(p,n,[],w.value),xe(K,n,[],w.value)}function aa(n){xe(p,[],[_e],n),xe(K,[],[],n)}function ia(){xe(p,["CartStep"],[],w.value),xe(K,["CartStep"],[],w.value)}function sa(){if(c.getters["entities/getPreselected"].show==="packages"){let b=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return b.length>0&&b.filter(I=>I.price>0).length===b.length}if(!c.getters["booking/getPackageId"]){let b=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],I=0;for(let Q of b){let Ie=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],qe=c.getters["booking/getBookingDuration"];if(Ie.filter(Xe=>Xe.serviceList.find(Ve=>Ve.id===Q.id&&(Ve.price>0||Ve.customPricing&&Ve.customPricing.enabled&&(Object.values(Ve.customPricing.durations).length===Object.values(Ve.customPricing.durations).filter(Lt=>Lt.price>0).length||qe&&Ve.customPricing.durations[qe].price>0)))).length===Ie.filter(Xe=>Xe.serviceList.find(Ve=>Ve.id===Q.id)).length)I++;else{let Xe=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Xe.length>0&&Xe.reduce((Ve,Lt)=>Ve+Lt.price,0)>0&&I++}}return b.length>0&&I===b.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let la=y(()=>Tt(c).length?La(c)!==0:sa());Ta(()=>{let n=Tt(c);!n[0].serviceId&&Object.keys(n[0].services).length===0&&L("emptiedCart"),!oe.value&&!la.value?jt():oe.value||p.value.indexOf(ee)===-1&&Wt()},{flush:"post"});function oa(){K.value.forEach(n=>{n.finished=!1,n.selected=!1}),p.value.forEach(n=>{n.finished=!1,n.selected=!1}),w.value=0,Xt(c,!0),Ma(c),pt(c),L("addToCart")}function na(){let n=c.getters["booking/getCurrentCartItem"],b=c.getters["booking/getAllMultipleAppointments"];n?(c.commit("booking/setCartItem",n),c.commit("booking/setCartItemIndex",b.length-1),c.commit("booking/setCurrentCartItem",null)):(b.pop(),c.commit("booking/setCartItemIndex",b.length-1),c.commit("booking/setServiceId",b[b.length-1].serviceId),c.commit("booking/setEmployeeId",b[b.length-1].services[b[b.length-1].serviceId].providerId),c.commit("booking/setLocationId",b[b.length-1].services[b[b.length-1].serviceId].locationId)),Gt(p,w)}let ke=y(()=>s.customizedData?s.customizedData.sbsNew.colors:ot.sbsNew.colors);se("amColors",ke);let ca=y(()=>({"--am-c-primary":ke.value.colorPrimary,"--am-c-success":ke.value.colorSuccess,"--am-c-error":ke.value.colorError,"--am-c-warning":ke.value.colorWarning,"--am-c-main-bgr":ke.value.colorMainBgr,"--am-c-main-heading-text":ke.value.colorMainHeadingText,"--am-c-main-text":ke.value.colorMainText,"--am-c-sb-bgr":ke.value.colorSbBgr,"--am-c-sb-text":ke.value.colorSbText,"--am-c-inp-bgr":ke.value.colorInpBgr,"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-inp-text":ke.value.colorInpText,"--am-c-inp-placeholder":ke.value.colorInpPlaceHolder,"--am-c-drop-bgr":ke.value.colorDropBgr,"--am-c-drop-text":ke.value.colorDropText,"--am-c-btn-prim":ke.value.colorBtnPrim,"--am-c-btn-prim-text":ke.value.colorBtnPrimText,"--am-c-btn-sec":ke.value.colorBtnSec,"--am-c-btn-sec-text":ke.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ke.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ke.value.colorMainText,.6),"--am-font-family":S.value.fontFamily,"--am-mw-main":E.value?k.value?"592px":"760px":"520px","--am-brad-main":E.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ra(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let b=`@font-face {font-family: '${S.value.fontFamily}'; src: url(${S.value.fontUrl});}`,I=document.createElement("style");n.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(b))}S.value.customFontSelected&&ra();let ua=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",ua),Fe(()=>{Yt("renderForm",{ameliaContainer:$,containerWidth:C,empty:T,amCustomize:d,amFonts:S,sidebarCollapsed:k,sidebarCollapseItemsClass:P,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:E})}),(n,b)=>(t(),i(Z,null,[S.value.customFontSelected?r("",!0):(t(),i(Z,{key:0},[Ti,Bi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Fi)],64)),e(T)?(t(),i("div",Zi,[a("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ki),a("h1",null,l(e(ie).oops),1),a("h3",null,l(e(ie).no_services_employees),1),a("p",null,l(e(ie).add_services_employees),1),a("a",es,l(e(ie).add_services_url)+"\xA0 ",1),a("span",ts,l(e(ie).and)+"\xA0",1),a("a",as,l(e(ie).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:$,class:V(["am-fs__wrapper",{"am-collapsed":e(k)}]),style:re(e(ca))},[e(C)>560&&e(E)?(t(),ge(za,{key:0,class:V(["am-fs-sb",{"am-collapsed":e(k)}]),style:re({width:e(k)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":R(()=>[a("div",zi,[p.value[w.value]!==e($e)||!e(s).general.addToCalendar||e(Qe)&&e(Qe).data.length===0?(t(!0),i(Z,{key:0},ye(K.value,I=>(t(),i("div",{key:I.key,class:"am-fs-sb__step"},[a("div",Ai,[a("div",Ri,[a("span",{class:V(`am-icon-${I.icon}`)},null,2),I.key==="cartStep"&&e(Ne)(e(c))!==0?(t(),i("span",{key:0,class:V(["am-fs-sb__step-icon__number",e(P)])},l(e(Ne)(e(c))),3)):r("",!0)]),J(Je,{name:"fade"},{default:R(()=>[e(k)?r("",!0):(t(),i("p",{key:0,class:V(["am-fs-sb__step-heading",e(P)])},l(I.label),3))]),_:2},1024),a("div",{class:V(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(P)]])},[J(Je,{name:"fade"},{default:R(()=>[I.finished?(t(),i("span",Oi)):r("",!0)]),_:2},1024)],2)]),J(Ba,{tag:"span",name:"fade",appear:"",class:V(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(_).key&&I.stepSelectedData.length>3}])},{default:R(()=>[e(k)?r("",!0):(t(!0),i(Z,{key:0},ye(I.stepSelectedData,(Q,Ie)=>(t(),i("p",{key:Q.position,class:"am-fs-sb__step-selection"},[I.key!==e(_).key||Ie<3?(t(),i("span",Mi,l(Q.value),1)):(t(),i("span",Vi,l(e(ie).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Ni,[J(Je,{name:"fade"},{default:R(()=>[e(k)?r("",!0):(t(),ge(Fa,{key:0}))]),_:1}),e(k)?(t(),i("div",Ui,[a("div",Wi,[a("div",ji,[a("span",{class:V(`am-icon-${p.value[w.value].sidebarData.icon}`)},null,2)]),a("div",{class:V(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":p.value[w.value].sidebarData.selected},e(P)]])},[J(Je,{name:"fade"},{default:R(()=>[p.value[w.value].sidebarData.finished?(t(),i("span",Hi)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":R(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(g).heading||e(g).phone||e(g).email)?(t(),i("div",qi,[J(Je,{name:"fade"},{default:R(()=>[!e(k)&&e(g).heading?(t(),i("div",{key:0,class:V(["am-fs-sb__support-heading",e(P)])},l(e(ie).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(g).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(k)?(t(),i("span",Ji)):(t(),i(Z,{key:0},[me(l(e(s).company.phone),1)],64))],8,Gi)):r("",!0),e(s).company.email&&e(g).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(k)?(t(),i("span",Qi)):(t(),i(Z,{key:0},[me(l(e(s).company.email),1)],64))],8,Yi)):r("",!0)])):r("",!0),a("div",{class:V(["am-fs-sb__menu",e(P)]),onClick:b[0]||(b[0]=I=>de(k)?k.value=!e(k):k=!e(k))},[J(Je,{name:"fade"},{default:R(()=>[e(k)?r("",!0):(t(),i("span",Xi,l(e(ie).collapse_menu),1))]),_:1}),a("span",{class:V(`am-icon-arrow-circle-${e(k)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),J(Oa,null,Ot({step:R(()=>[(t(),ge(Qt(p.value[w.value]),{"global-class":"am-fs__main-content"}))]),footer:R(()=>[J(e(Ra),{"second-button-show":p.value[w.value]===e($e)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Ge)(e(c))&&p.value[w.value]===e(_e),"back-to-cart-button-show":e(Ge)(e(c))&&e(Be).length>1&&p.value[w.value]!==e(_e)&&p.value[w.value]!==e(fe)&&p.value[w.value]!==e(ee)&&p.value[w.value]!==e($e),booked:e(Qe),loading:e(yt),ready:e(gt),"payment-gateway":e(It),"customized-labels":e(Ue),"primary-footer-button-type":e(ze),"secondary-footer-button-type":e(X),"add-to-cart-button-type":e(W),"back-to-cart-button-type":e(A),"back-to-cart-label":ue("cancel","cartStep"),onAddToCart:oa,onBackToCart:na},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[p.value[w.value]!==e($e)?{name:"header",fn:R(()=>[J(Aa,{"sidebar-visible":e(E),ready:e(gt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const ss={class:"am-fcil__filter-buttons"},ls={class:"am-fcil__filter"},os={class:"am-fcil__filter-item__btn-wrapper"},ns={class:"am-fcil__heading"},cs={key:0,class:"am-fcil__item-badge__wrapper"},rs={class:"am-fcil__item-badge am-package"},us=a("span",{class:"am-icon-shipment"},null,-1),ds={class:"am-fcil__item-heading"},ms={class:"am-fcil__item-name"},ps={key:0,class:"am-fcil__item-cost"},_s={key:0,class:"am-fcil__item-discount"},fs={class:"am-fcil__item-price"},vs={key:1,class:"am-fcil__item-price"},gs={class:"am-fcil__item-info"},ys={key:0,class:"am-fcil__item-info__inner"},hs=a("span",{class:"am-icon-folder"},null,-1),bs={key:1,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-clock"},null,-1),Cs={key:0},$s={key:1},Ss={key:2},ws={key:2,class:"am-fcil__item-info__inner"},xs=a("span",{class:"am-icon-user"},null,-1),Ps=a("span",null,"1/1",-1),Is=[xs,Ps],Es={key:3,class:"am-fcil__item-info__inner"},Ds=a("span",{class:"am-icon-locations"},null,-1),Ls={key:2,class:"am-fcil__item-services"},Ts={key:0,class:"am-fcil__item-badge__wrapper"},Bs={class:"am-fcil__item-badge am-service"},Fs=a("span",{class:"am-icon-service"},null,-1),zs={class:"am-fcil__item-heading"},As={class:"am-fcil__item-name"},Rs={key:0,class:"am-fcil__item-cost"},Os={key:0,class:"am-fcil__item-price"},Ms={key:1,class:"am-fcil__item-price"},Vs={class:"am-fcil__item-info"},Ns={key:0,class:"am-fcil__item-info__inner"},Us=a("span",{class:"am-icon-folder"},null,-1),Ws={key:1,class:"am-fcil__item-info__inner"},js=a("span",{class:"am-icon-clock"},null,-1),Hs={key:2,class:"am-fcil__item-info__inner"},qs=a("span",{class:"am-icon-user"},null,-1),Gs={key:3,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-locations"},null,-1),Ys={class:"am-fcil-employee__header"},Qs={class:"am-fcil-employee__heading"},Xs={class:"am-fcil-employee__heading-left"},Zs={class:"am-fcil-employee__name"},Ks={key:0,class:"am-fcil-employee__heading-right"},el={class:"am-fcil-employee__price"},tl=["innerHTML"],al={key:1,ref:"ameliaContainer",class:"am-empty"},il=["src"],sl={class:"am-empty__heading"},ll={class:"am-empty__subheading"},ol={class:"am-empty__text"},nl={key:0},cl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},rl={key:1},ul={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},dl={name:"CategoryItemsList",key:"categoryItemsList"},ml=Object.assign(dl,{setup(f){let L=z("licence"),{nextPage:u,previousPage:$}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=z("baseUrls");let T=x(!1),m=x(!1),s=x("760px");se("bookingDialogWidth",s);function d(){s.value="760px"}let g=x(!1),S=x(),k=z("containerWidth"),P=z("customizedDataForm"),v=y(()=>P.value.categoryItemsList.options),U=y(()=>"pageScroll"in v.value?v.value.pageScroll.visibility:!0);const te=z("settings");let E=tt();const F=z("shortcodeData"),c=y(()=>E.getters["entities/getPreselected"]);let H=y(()=>{let O=Array.isArray(F.value.category)?F.value.category:F.value.category.split(",");return O=O.filter(h=>h),O.length}),oe=y(()=>{let O=S.value&&S.value.catContainerWidth?S.value.catContainerWidth>768:!0;return H.value!==1&&v.value.sidebar.visibility&&O}),G=z("amEntities"),pe=y(()=>Ge(E)&&Ne(E)>0),Ce=y(()=>Ne(E));const N=z("labels"),he=z("localLanguage");let ne=y(()=>te.general.usedLanguages.includes(he.value)),_=y(()=>{let O=at({...N});if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let h=te.customizedData.cbf.categoryItemsList.translations;Object.keys(h).forEach(o=>{h[o][he.value]&&ne.value?O[o]=h[o][he.value]:h[o].default&&(O[o]=h[o].default)})}return O}),ve=x(""),$e={components:{IconComponent:xt},template:'<IconComponent icon="search"/>'},_e=x(!0),fe={components:{IconComponent:xt},template:'<IconComponent icon="filter"/>'},ee=y(()=>S.value&&S.value.catHeaderWidth?S.value.catHeaderWidth:0);window.addEventListener("resize",Le);function Le(){we(()=>{ee.value>480&&(_e.value=!0)})}Fe(()=>{Le()});function Te(O){let h=[];return ve.value.toLowerCase().split(" ").forEach(o=>{h.push(O.toLowerCase().includes(o))}),h.filter(o=>o===!1).length<=0}let p=z("availableCategories"),Y=y(()=>{let O=[...p.value],h=[];return O.forEach(o=>{h.push({id:o.id,name:o.name})}),h.unshift({id:0,name:_.value.filter_all}),h}),q=z("categorySelected"),M=y(()=>bt(G.value,F.value,Ue.value,ze.value)),Be=y(()=>{let O=[];return M.value.find(h=>h.id===q.value)?G.value.packages.forEach(h=>{M.value.find(o=>o.id===q.value).packageList.forEach(o=>{h.id===o&&(ve.value?Te(h.name):!0)&&O.push(h)})}):G.value.packages.forEach(h=>{M.value.forEach(o=>{o.packageList.forEach(ce=>{h.id===ce&&!O.find(Pe=>Pe.id===ce)&&(ve.value?Te(h.name):!0)&&O.push(h)})})}),O}),ie=y(()=>{let O=[];return q.value&&M.value.find(h=>h.id===q.value)?G.value.services.forEach(h=>{M.value.find(o=>o.id===q.value).serviceIdList.forEach(o=>{h.id===o&&(ve.value?Te(h.name):!0)&&O.push(h)})}):G.value.services.forEach(h=>{M.value.forEach(o=>{o.serviceIdList.forEach(ce=>{h.id===ce&&(ve.value?Te(h.name):!0)&&O.push(h)})})}),O}),Ue=x(null),ze=x(null),X=x(!0),W=x(!0);function A(O){O==="all"&&(X.value=!0,W.value=!0),O==="packages"&&(X.value=!0,W.value=!1),O==="services"&&(X.value=!1,W.value=!0)}Rt(()=>{c.value.show&&A(c.value.show)});let ue=y(()=>{let O=F.value.employee,h=G.value.employees.length,o=F.value.location,ce=G.value.locations.length,Pe=v.value.searchInput.visibility,K=v.value.filterEmployee.visibility&&O.length!==1&&h>1&&!L.isLite,He=v.value.filterLocation.visibility&&o.length!==1&&ce>1&&!L.isLite&&!L.isStarter,We=v.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Be.value.length!==0&&ie.value.length!==0&&!Ne(E),le={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!Pe||!We?(le.employee=!Pe&&!We?"am-w50":"am-w35",le.location=!Pe&&!We?"am-w50":"am-w35",le.search=!We&&!He&&!K?"am-w100":"am-w30",K||(le.location=!Pe&&!We?"am-w100":"am-w70"),He||(le.employee=!Pe&&!We?"am-w100":"am-w70")):(K||(le.location="am-w40"),He||(le.employee="am-w40"),!K&&!He&&(le.search="am-w70")):ee.value>768||ee.value>480?(le.search=We?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",le.buttons=Pe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",le.employee=He?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",le.location=K?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",le.category="am-w100 am-tablet am-order5"):(le.employee="am-w100 am-mobile",le.location="am-w100 am-mobile",le.search="am-w100 am-mobile",le.buttons="am-w100 am-mobile",le.category="am-w100 am-mobile"),le}),Ee=y(()=>S.value&&S.value.catContainerWidth?S.value.catContainerWidth:0),Me=y(()=>{let O=Be.value.length&&!Ne(E)?Be.value.length:0,h=ie.value.length>1?_.value.heading_services:_.value.heading_service,o=O?O>1?_.value.packages:_.value.package:"";if(!ie.value.length&&!O)return _.value.no_search_data;if(W.value&&(!X.value||!O))return`${_.value.available} - ${ie.value.length} ${h}`;if((!W.value||!ie.value.length)&&X.value)return`${_.value.available} - ${O} ${o}`;let ce=O?"/":"";return`${_.value.available} - ${ie.value.length} ${h} ${ce} ${O} ${o}`});Fe(()=>{we(()=>{T.value=Be.value.length===0&&ie.value.length===0})});function xe(O){const h=O.id===0?null:O.id;q.value=h,E.commit("booking/setCategoryId",h)}let Ke=z("itemType");function De(O){E.commit("booking/setServiceId",parseInt(O)),E.commit("booking/setBookableType","appointment"),Ke.value="appointment",_t(E,{},"SelectService","appointment",null,null),we(()=>{u()})}function it(O){E.commit("booking/setServiceId",null),E.commit("booking/setPackageId",O.id),E.commit("booking/setBookableType","package"),E.commit("booking/setMultipleAppointments",Pt(0,O)),E.commit("booking/setCartItemIndex",0),Ke.value="package",_t(E,{},"SelectPackage","package",null,null),we(()=>{u()})}function ut(){q.value=null,E.commit("booking/setCategoryId",null),$()}function j(){At(E),g.value=!0,m.value=!0}let B=x(!1),D=x(""),w=x([]),dt=x({}),Ye=x(null);function vt(){D.value="",w.value=[],dt.value={},Ye.value=null}function st(O){w.value=ta(G.value,O,F.value),dt.value=O,B.value=!0}function gt(O){let h=[];Object.keys(G.value.entitiesRelations).forEach(ce=>{ce in G.value.entitiesRelations&&O in G.value.entitiesRelations[ce]&&G.value.employees.find(Pe=>Pe.id===parseInt(ce))&&h.push(G.value.employees.find(Pe=>Pe.id===parseInt(ce)))}),w.value=h,D.value="service",B.value=!0,Ye.value=O}function yt(O){let h=G.value.services.find(ce=>ce.id===Ye.value).price,o=O.serviceList.find(ce=>ce.id===Ye.value).price;return o!==h?`${o-h>0?h>0?"+":"":"-"} ${Ze(o-h)}`:0}function Qe(){D.value==="service"?De(Ye.value):it(dt.value),vt()}function It(O,h){let o="";return O>1?(h==="day"&&(o=_.value.expires_days),h==="week"&&(o=_.value.expires_weeks),h==="month"&&(o=_.value.expires_months)):(h==="day"&&(o=_.value.expires_day),h==="week"&&(o=_.value.expires_week),h==="month"&&(o=_.value.expires_month)),o}function mt(O,h){return Ae(O,h).length===1?Ae(O,h)[0].address?Ae(O,h)[0].address:Ae(O,h)[0].name:_.value.multiple_locations}let ht=z("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),be=z("amColors"),Et=y(()=>({"--am-c-fcil-text-op-10":ae(be.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(be.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(be.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(be.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(be.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(be.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(be.value.colorInpText,.1),"--am-w-fcil-main":p.value.length!==1&&H.value!==1&&v.value.sidebar.visibility&&oe.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":S.value&&S.value.catFormWidth<580?"100%":"50%"})),Dt=y(()=>({"--am-f-fcil-employee-f":ht.value.fontFamily,"--am-c-fcil-employee-bgr":be.value.colorMainBgr,"--am-c-fcil-employee-heading":be.value.colorMainHeadingText,"--am-c-fcil-employee-text":be.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(be.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(be.value.colorMainText,.15),"--am-c-fcil-employee-primary":be.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(be.value.colorPrimary,.1),"--am-c-inp-border":be.value.colorInpBorder,"--am-c-main-text":be.value.colorMainText}));return(O,h)=>e(T)?(t(),i("div",al,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,il),a("div",sl,l(e(_).oops),1),a("div",ll,l(e(c).show!=="packages"?e(_).no_services_employees:e(_).no_package_services),1),a("div",ol,[e(c).show!=="packages"?(t(),i("span",nl,l(e(_).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",cl,l(e(_).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",rl,l(e(_).and)+"\xA0 ",1)):r("",!0),e(c).show!=="packages"?(t(),i("a",ul,l(e(_).add_employees_url),1)):r("",!0)])],512)):(t(),ge(Nt,{key:0,ref_key:"contentRef",ref:S,"wrapper-class":`am-fcil ${e(k)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(k)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(k)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(Et))},Ot({header:R(()=>[a("span",ss,[e(H)!==1&&!e(F).categories_hidden&&e(p).length!==1?(t(),ge(Vt,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(_).back_btn,"btn-type":e(v).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e(Ce),onGoBack:ut,onGoToCart:j},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),ge(Re,{key:1,size:"medium",category:"secondary",type:e(v).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(fe),onClick:h[0]||(h[0]=()=>de(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):r("",!0)]),a("div",ls,[e(v).searchInput.visibility?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(ue).search])},[J(Va,{modelValue:e(ve),"onUpdate:modelValue":h[1]||(h[1]=o=>de(ve)?ve.value=o:ve=o),placeholder:e(_).filter_input,"icon-start":e($e)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),J(Je,{name:"slide-fade"},{default:R(()=>[e(F).employee.length!==1&&e(G).employees.length>1&&e(v).filterEmployee.visibility&&e(_e)&&!e(L).isLite?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(ue).employee])},[J(Bt,{modelValue:e(Ue),"onUpdate:modelValue":h[2]||(h[2]=o=>de(Ue)?Ue.value=o:Ue=o),clearable:"",filterable:"",placeholder:e(_).filter_employee,"fit-input-width":!0},{default:R(()=>[(t(!0),i(Z,null,ye(e(G).employees,o=>(t(),ge(Ft,{key:o.id,value:o.id,label:`${o.firstName} ${o.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Je,{name:"slide-fade"},{default:R(()=>[e(F).location.length!==1&&e(G).locations.length>1&&e(v).filterLocation.visibility&&e(_e)&&!e(L).isLite&&!e(L).isStarter?(t(),i("div",{key:0,class:V(["am-fcil__filter-item",e(ue).location])},[J(Bt,{modelValue:e(ze),"onUpdate:modelValue":h[3]||(h[3]=o=>de(ze)?ze.value=o:ze=o),clearable:"",filterable:"",placeholder:e(_).filter_location,"fit-input-width":!0},{default:R(()=>[(t(!0),i(Z,null,ye(e(G).locations,o=>(t(),ge(Ft,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Je,{name:"slide-fade"},{default:R(()=>[e(p).length!==1&&e(H)!==1&&e(v).sidebar.visibility&&!e(oe)&&e(_e)?(t(),i("div",{key:0,class:V(["am-fcil__filter-item am-w100",e(ue).category])},[J(Bt,{modelValue:e(q),"onUpdate:modelValue":h[4]||(h[4]=o=>de(q)?q.value=o:q=o),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:R(()=>[(t(!0),i(Z,null,ye(e(Y),o=>(t(),ge(Ft,{key:o.id,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(c).show&&e(v).filterButtons.visibility&&e(Be).length!==0&&e(ie).length!==0&&!e(Ne)(e(E))?(t(),i("div",{key:1,class:V(["am-fcil__filter-item",e(ue).buttons])},[a("div",os,[a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":e(X)&&e(W)}]),onClick:h[5]||(h[5]=o=>A("all"))},[a("span",null,l(e(_).filter_all),1)],2),a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":e(X)&&!e(W)}]),onClick:h[6]||(h[6]=o=>A("packages"))},[a("span",null,l(e(_).filter_packages),1)],2),a("div",{class:V(["am-fcil__filter-item__btn",{"am-active":!e(X)&&e(W)}]),onClick:h[7]||(h[7]=o=>A("services"))},[a("span",null,l(e(_).filter_services),1)],2)])],2)):r("",!0)])]),heading:R(()=>[a("div",ns,l(e(Me)),1)]),content:R(()=>[e(X)&&!e(Ne)(e(E))?(t(!0),i(Z,{key:0},ye(e(Be),o=>(t(),i("div",{key:o.id,class:V(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:V(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ae)(o.color,.1)}:{})},[e(v).packageBadge.visibility?(t(),i("div",cs,[a("div",rs,[us,a("span",null,l(e(_).package),1)])])):r("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):r("",!0),a("div",ds,[a("div",ms,l(o.name),1),e(v).packagePrice.visibility?(t(),i("div",ps,[o.discount?(t(),i("span",_s,l(`${e(_).save} ${o.discount}%`),1)):r("",!0),a("span",fs,l(o.price?e(Ze)(e(Mt)(o)):e(_).free),1),o.price&&(e(v).tax?.visibility??!0)&&e(ft)(e(E),o.id,"package")?(t(),i("span",vs,[e(te).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(_).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(_).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",gs,[e(v).packageCategory.visibility&&e(q)?(t(),i("div",ys,[hs,a("span",null,l(e(p).find(ce=>ce.id===e(q)).name),1)])):r("",!0),e(v).packageDuration.visibility?(t(),i("div",bs,[ks,o.endDate?(t(),i("span",Cs,l(`${e(_).expires_at} ${o.endDate.split(" ")[0]}`),1)):o.durationCount?(t(),i("span",$s,l(`${e(_).expires_after} ${o.durationCount} ${It(o.durationCount,o.durationType)}`),1)):(t(),i("span",Ss,l(e(_).without_expiration),1))])):r("",!0),e(v).packageCapacity.visibility?(t(),i("div",ws,Is)):r("",!0),e(lt)(e(G),o,e(F)).length&&e(v).packageLocation.visibility?(t(),i("div",Es,[Ds,a("span",null,l(e(lt)(e(G),o,e(F)).length===1?e(lt)(e(G),o,e(F))[0].address?e(lt)(e(G),o,e(F))[0].address:e(lt)(e(G),o,e(F))[0].name:e(_).multiple_locations),1)])):r("",!0)]),e(v).packageServices.visibility?(t(),i("div",Ls,[a("span",null,l(`${e(_).in_package}:`),1),(t(!0),i(Z,null,ye(o.bookable,ce=>(t(),i("span",{key:ce.id},l(ce.service.name),1))),128))])):r("",!0)],4),a("div",{class:V(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(v).cardEmployeeBtn.visibility?(t(),ge(Re,{key:0,class:V({"am-w100":e(Ee)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:ce=>st(o)},{default:R(()=>[me(l(e(_).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Re,{class:V([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:ce=>it(o)},{default:R(()=>[me(l(e(_).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),e(W)?(t(!0),i(Z,{key:1},ye(e(ie),o=>(t(),i("div",{key:o.id,class:V(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:V(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ae)(o.color,.1)}:{})},[e(v).serviceBadge.visibility?(t(),i("div",Ts,[a("div",Bs,[Fs,a("span",null,l(e(_).heading_service),1)])])):r("",!0),o.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${o.pictureFullPath})`})},null,4)):r("",!0),a("div",zs,[a("div",As,l(o.name),1),e(v).servicePrice.visibility?(t(),i("div",Rs,[e(ct)(e(G),o.id).min||e(ct)(e(G),o.id).max?(t(),i("span",Os,l(e(ct)(e(G),o.id).price),1)):r("",!0),(e(v).tax?.visibility??!0)&&e(ft)(e(E),o.id,"service")?(t(),i("span",Ms,[e(te).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(_).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(_).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Vs,[e(v).serviceCategory.visibility&&e(q)?(t(),i("div",Ns,[Us,a("span",null,l(e(p).find(ce=>ce.id===e(q)).name),1)])):r("",!0),e(v).serviceDuration.visibility?(t(),i("div",Ws,[js,a("span",null,l(e(ea)(o.duration)),1)])):r("",!0),e(v).serviceCapacity.visibility&&!e(L).isLite?(t(),i("div",Hs,[qs,a("span",null,l(e(Kt)(e(G),o.id)),1)])):r("",!0),e(Ae)(e(G),o.id).length&&e(v).serviceLocation.visibility?(t(),i("div",Gs,[Js,a("span",null,l(mt(e(G),o.id)),1)])):r("",!0)])],4),a("div",{class:V(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(v).cardEmployeeBtn.visibility&&!e(L).isLite?(t(),ge(Re,{key:0,class:V({"am-w100":e(Ee)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:ce=>gt(o.id)},{default:R(()=>[me(l(e(_).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Re,{class:V([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:ce=>De(o.id)},{default:R(()=>[me(l(e(_).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):r("",!0),J(rt,{modelValue:e(B),"onUpdate:modelValue":h[9]||(h[9]=o=>de(B)?B.value=o:B=o),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Dt),width:"648px",onClose:vt},{title:R(()=>[a("div",Ys,l(e(_).employee_info),1)]),default:R(()=>[a("div",null,[J(Ct,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(w),(o,ce)=>(t(),ge($t,{key:ce,side:""},{heading:R(()=>[a("div",Qs,[a("div",Xs,[J(nt,{"item-class":"am-fcil-employee__img","item-data":o,"trim-string":2},null,8,["item-data"]),a("div",Zs,[me(l(`${o.firstName} ${o.lastName}`)+" ",1),o.badge?(t(),i("span",{key:0,style:re({background:o.badge.color}),class:"am-fcil-employee__badge"},l(o.badge.content),5)):r("",!0)])]),e(D)==="service"&&yt(o)!==0?(t(),i("div",Ks,[a("div",el,l(yt(o)),1)])):r("",!0)])]),default:R(()=>[e(Oe)(o.description)?(t(),i("div",{key:0,class:V(["am-fcil-employee__text",{"ql-description":o.description.includes("<!-- Content -->")}]),innerHTML:o.description},null,10,tl)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:R(()=>[e(v).dialogEmployeeBtn.visibility?(t(),ge(Re,{key:0,type:e(v).dialogEmployeeBtn.buttonType,category:"primary",onClick:h[8]||(h[8]=o=>Qe())},{default:R(()=>[me(l(e(D)==="service"?e(_).book_service:e(_).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),J(rt,{modelValue:e(m),"onUpdate:modelValue":h[10]||(h[10]=o=>de(m)?m.value=o:m=o),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:d},{default:R(()=>[J(Ut,{"show-cart":e(g)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(p).length!==1&&e(H)!==1&&e(v).sidebar.visibility&&e(oe)?{name:"side",fn:R(()=>[J(ni,{"menu-items":e(Y),"init-selection":e(q),identifier:"id","name-identifier":"name","footer-string":e(_).get_in_touch,"company-email":e(te).company.email,onClick:xe},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const pl={class:"am-fcis__header-text"},_l={class:"am-fcis__header-name"},fl={key:0,class:"am-fcis__badge am-service"},vl=a("span",{class:"am-icon-service"},null,-1),gl={class:"am-fcis__header-action"},yl={key:0,class:"am-fcis__header-price"},hl={key:1,class:"am-fcis__header-tax"},bl={class:"am-fcis__header-btn"},kl={key:0,class:"am-fcis__header-bottom"},Cl={class:"am-fcis__mini-info"},$l={key:0,class:"am-fcis__mini-info__inner"},Sl=a("span",{class:"am-icon-folder"},null,-1),wl={key:1,class:"am-fcis__mini-info__inner"},xl=a("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Il=a("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Dl=a("span",{class:"am-icon-locations"},null,-1),Ll={key:0,class:"am-fcis__gallery"},Tl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Bl={class:"am-gd__display-wrapper"},Fl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},zl=["src","alt"],Al={class:"am-gd__selection"},Rl={class:"am-gd__thumb-wrapper"},Ol=["onClick"],Ml={key:1,class:"am-fcis__info"},Vl={class:"am-fcis__info-tab__wrapper"},Nl={class:"am-fcis__info-content__wrapper"},Ul={key:0,class:"am-fcis__info-content"},Wl=["innerHTML"],jl={key:1,class:"am-fcis__info-content"},Hl={class:"am-fcis__info-employee__hero"},ql={class:"am-fcis__info-employee__heading"},Gl={class:"am-fcis__info-employee__name"},Jl={key:0,class:"am-fcis__info-employee__price"},Yl=["innerHTML"],Ql={key:2,class:"am-fcis__include-wrapper"},Xl={class:"am-fcis__include-heading"},Zl={class:"am-fcis__include-heading__text"},Kl=["onClick"],eo={class:"am-fcis__include-hero"},to={key:0,class:"am-fcis__include-cost"},ao={key:0,class:"am-fcis__include-discount"},io={class:"am-fcis__include-price"},so={key:1,class:"am-fcis__include-price"},lo={class:"am-fcis__include-info"},oo={key:0,class:"am-fcis__include-info__inner"},no=a("span",{class:"am-icon-folder"},null,-1),co={key:1,class:"am-fcis__include-info__inner"},ro=a("span",{class:"am-icon-clock"},null,-1),uo={key:0},mo={key:1},po={key:2},_o={key:2,class:"am-fcis__include-info__inner"},fo=a("span",{class:"am-icon-user"},null,-1),vo=a("span",null,"1/1",-1),go=[fo,vo],yo={key:3,class:"am-fcis__include-info__inner"},ho=a("span",{class:"am-icon-locations"},null,-1),bo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},ko={key:1,ref:"ameliaContainer",class:"am-empty"},Co=["src"],$o={class:"am-empty__heading"},So={class:"am-empty__subheading"},wo={class:"am-empty__text"},xo={key:0},Po={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Io={key:1},Eo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Do={name:"CategoryService"},Lo=Object.assign(Do,{setup(f){let L=z("licence"),{previousPage:u}=z("changingPageFunctions",{previousPage:()=>{}}),$=y(()=>U.getters["entities/getReady"]);const C=z("baseUrls");let T=x(),m=z("containerWidth");const s=z("settings");let d=z("amFonts");const g=z("labels"),S=z("localLanguage");let k=y(()=>s.general.usedLanguages.includes(S.value)),P=y(()=>{let j=at({...g});if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let B=s.customizedData.cbf.categoryService.translations;Object.keys(B).forEach(D=>{B[D][S.value]&&k.value?j[D]=B[D][S.value]:B[D].default&&(j[D]=B[D].default)})}return j}),v=x(0),U=tt(),te=z("amEntities"),E=y(()=>Ge(U)&&Ne(U)>0),F=y(()=>Ne(U)),c=z("customizedDataForm"),H=y(()=>c.value.categoryService.options),oe=y(()=>"pageScroll"in H.value?H.value.pageScroll.visibility:!0),G=z("itemType"),pe=z("categorySelected"),Ce=y(()=>te.value.categories.find(j=>j.id===pe.value)),N=y(()=>{let j=te.value.services.find(B=>B.id===U.getters["booking/getServiceId"]);return j||{}});function he(j,B){return Ae(j,B).length===1?Ae(j,B)[0].address?Ae(j,B)[0].address:Ae(j,B)[0].name:P.value.multiple_locations}let ne=x("description"),_=y(()=>{let j=[];return Object.keys(te.value.entitiesRelations).forEach(D=>{te.value.entitiesRelations[D][N.value.id]&&te.value.employees.find(w=>w.id===parseInt(D))&&j.push(te.value.employees.find(w=>w.id===parseInt(D)))}),j});function ve(j){let B=j.serviceList.find(D=>D.id===N.value.id).price;return B-N.value.price!==0?`${B-N.value.price>0?N.value.price>0?"+":"":"-"} ${Ze(B-N.value.price)}`:""}Fe(()=>{H.value.serviceDescription.visibility||(ne.value="employees"),Oe(N.value.description)||(ne.value="employees")});let $e=y(()=>{let j=N.value.gallery.length?JSON.parse(JSON.stringify(N.value.gallery)):[];return N.value.gallery.length===1?[]:(j.shift(),j.length>2&&j.splice(2,j.length-2),j)}),_e=y(()=>{let j=[];return te.value.packages.forEach(B=>{B.bookable.filter(D=>D.service.id===N.value.id).length&&!j.filter(D=>D.id===B.id).length&&B.available&&B.status==="visible"&&j.push(B)}),j}),fe=x(!1),ee=y(()=>{let j=[..._e.value];return fe.value?j:j.slice(0,2)}),Le=y(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Te(){G.value="",we(()=>{u()})}let p=x(!1);function Y(){At(U),p.value=!0,M.value=!0}function q(){M.value=!1,U.getters["entities/getPreselected"].service.length>1&&Te()}let M=x(!1),Be=x("760px");se("bookingDialogWidth",Be);function ie(){let j=U.getters["entities/getPreselected"];_.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(_.value[0].id)),j.employee=[parseInt(_.value[0].id)],U.commit("entities/setPreselected",j)),p.value=!1,M.value=!1,Na(U),Xt(U,!1),pt(U);let B=Ae(te.value,N.value.id);B.length===1&&(U.commit("booking/setLocationId",parseInt(B[0].id)),j.location=[parseInt(B[0].id)],U.commit("entities/setPreselected",j)),U.commit("booking/setBookableType","appointment"),M.value=!0}z("restoreFormData").value&&ie();function ze(j){U.commit("booking/setPackageId",j.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",Pt(0,j)),U.commit("booking/setMultipleAppointmentsIndex",0),_.value.length===1&&U.commit("booking/setEmployeeId",parseInt(_.value[0].id)),Ae(te.value,N.value.id).length===1&&U.commit("booking/setLocationId",parseInt(Ae(te.value,N.value.id)[0].id)),we(()=>{M.value=!0})}const X=y(()=>U.getters["entities/getPreselected"]);let W=y(()=>te.value.services.length!==1&&X.value.service.length!==1),A=x("");se("stepName",A);function ue(){let j=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),B=j.settings?JSON.parse(j.settings):s;"general"in B&&"redirectUrlAfterAppointment"in B.general&&B.general.redirectUrlAfterAppointment?window.location.href=B.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function Ee(){if(A.value&&A.value==="CongratulationsStep")ue();else{if(A.value&&A.value==="DateTimeStep"){let j=Ua(U);j&&console.log(j)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Be.value="760px"}let Me=x(!1);function xe(j,B){let D="";return j>1?(B==="day"&&(D=P.value.expires_days),B==="week"&&(D=P.value.expires_weeks),B==="month"&&(D=P.value.expires_months)):(B==="day"&&(D=P.value.expires_day),B==="week"&&(D=P.value.expires_week),B==="month"&&(D=P.value.expires_month)),D}let Ke=y(()=>Object.keys(N.value).length===0||_.value.length===0),De=z("amColors"),it=y(()=>({"--am-c-fcis-success-op20":ae(De.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(De.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(De.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(De.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(De.value.colorBtnSec,.5)})),ut=y(()=>({"--am-c-fcis-bgr":De.value.colorMainBgr,"--am-c-fcis-text":De.value.colorMainText,"--am-c-fcis-success":De.value.colorSuccess,"--am-c-fcis-primary":De.value.colorPrimary,"--am-c-scroll-op30":ae(De.value.colorPrimary,.3),"--am-c-scroll-op10":ae(De.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(j,B)=>e($)?(t(),i(Z,{key:0},[e(Ke)?r("",!0):(t(),ge(Nt,{key:0,ref_key:"contentRef",ref:T,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(oe)?"":"no-scroll"}`,style:re(e(it))},{header:R(()=>[J(Vt,{"btn-string":e(P).back_btn,"btn-type":e(H).backBtn.buttonType,"back-btn-visibility":e(W),"cart-btn-visibility":e(E),"cart-items-number":e(F),onGoBack:Te,onGoToCart:Y},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:R(()=>[a("div",{class:V([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[a("div",pl,[a("span",_l,l(e(N).name),1),e(H).serviceBadge.visibility?(t(),i("div",fl,[vl,a("span",null,l(e(P).heading_service),1)])):r("",!0)]),a("div",gl,[e(H).servicePrice.visibility?(t(),i("span",yl,l(e(ct)(e(te),e(N).id).min||e(ct)(e(te),e(N).id).max?e(ct)(e(te),e(N).id).price:e(P).free),1)):r("",!0),(e(H).tax?.visibility??!0)&&e(ft)(e(U),e(N).id,"service")?(t(),i("span",hl,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(P).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(P).incl_tax),1)],64))])):r("",!0),a("span",bl,[J(Re,{type:e(H).bookingBtn.buttonType,onClick:ie},{default:R(()=>[me(l(e(P).book_now),1)]),_:1},8,["type"])])])],2),e(H).serviceCategory.visibility||e(H).serviceDuration.visibility||e(H).serviceCapacity.visibility||e(H).serviceLocation.visibility?(t(),i("div",kl,[a("div",Cl,[e(H).serviceCategory.visibility&&e(Ce)?(t(),i("div",$l,[Sl,a("span",null,l(e(Ce).name),1)])):r("",!0),e(H).serviceDuration.visibility?(t(),i("div",wl,[xl,a("span",null,l(e(ea)(e(N).duration)),1)])):r("",!0),e(H).serviceCapacity.visibility&&!e(L).isLite?(t(),i("div",Pl,[Il,a("span",null,l(e(Kt)(e(te),e(N).id)),1)])):r("",!0),e(Ae)(e(te),e(N).id).length&&e(H).serviceLocation.visibility&&!e(L).isLite&&!e(L).isStarter?(t(),i("div",El,[Dl,a("span",null,l(he(e(te),e(N).id)),1)])):r("",!0)])])):r("",!0)]),content:R(()=>[e(N).gallery.length?(t(),i("div",Ll,[a("div",{class:V(["am-fcis__gallery-hero",[{w100:e(N).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:re({backgroundImage:`url(${e(N).gallery[0].pictureFullPath})`})},null,6),e($e).length&&e(m)>677?(t(),i("div",Tl,[(t(!0),i(Z,null,ye(e($e),(D,w)=>(t(),i("div",{key:w,class:V(["am-fcis__gallery-thumb",{"am-one-thumb":e($e).length===1}]),style:re({backgroundImage:`url(${D.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Re,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:B[0]||(B[0]=()=>de(Me)?Me.value=!0:Me=!0)},{default:R(()=>[me(l(e(P).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(rt,{modelValue:e(Me),"onUpdate:modelValue":B[4]||(B[4]=D=>de(Me)?Me.value=D:Me=D),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:re(e(ut))},[a("div",Bl,[a("div",Fl,[a("span",{class:"am-icon-arrow-left",onClick:B[1]||(B[1]=()=>de(v)?v.value=e(v)<=0?e(N).gallery.length-1:e(v)-1:v=e(v)<=0?e(N).gallery.length-1:e(v)-1)}),a("span",{class:"am-icon-arrow-right",onClick:B[2]||(B[2]=()=>de(v)?v.value=e(N).gallery.length-1===e(v)?0:e(v)+1:v=e(N).gallery.length-1===e(v)?0:e(v)+1)})]),(t(!0),i(Z,null,ye(e(N).gallery,(D,w)=>(t(),i("div",{key:w,class:"am-gd__display",style:re({display:w===e(v)?"flex":"none"}),onClick:B[3]||(B[3]=()=>de(v)?v.value=e(N).gallery.length-1===e(v)?0:e(v)+1:v=e(N).gallery.length-1===e(v)?0:e(v)+1)},[a("img",{src:D.pictureFullPath,alt:w},null,8,zl)],4))),128))]),a("div",Al,l(`${e(v)+1}/${e(N).gallery.length}`),1),a("div",Rl,[(t(!0),i(Z,null,ye(e(N).gallery,(D,w)=>(t(),i("div",{key:w,class:V(["am-gd__thumb",{"am-active":w===e(v)}]),style:re({backgroundImage:`url(${D.pictureFullPath})`}),onClick:()=>de(v)?v.value=w:v=w},null,14,Ol))),128))])],4)]),_:1},8,["modelValue"]),e(H).serviceDescription.visibility&&e(Oe)(e(N).description)||e(H).serviceEmployees.visibility?(t(),i("div",Ml,[a("div",Vl,[e(Oe)(e(N).description)&&e(H).serviceDescription.visibility?(t(),i("div",{key:0,class:V(["am-fcis__info-tab",{"am-active":e(ne)==="description"}]),onClick:B[5]||(B[5]=()=>de(ne)?ne.value="description":ne="description")},l(e(P).about_service),3)):r("",!0),e(H).serviceEmployees.visibility&&!e(L).isLite?(t(),i("div",{key:1,class:V([{"am-active":e(ne)==="employees"},"am-fcis__info-tab"]),onClick:B[6]||(B[6]=()=>de(ne)?ne.value="employees":ne="employees")},l(e(P).tab_employees),3)):r("",!0)]),a("div",Nl,[e(Oe)(e(N).description)&&e(H).serviceDescription.visibility?St((t(),i("div",Ul,[a("div",{class:V(["am-fcis__info-service__desc",{"ql-description":e(N).description.includes("<!-- Content -->")}]),innerHTML:e(N).description},null,10,Wl)],512)),[[wt,e(ne)==="description"]]):r("",!0),e(H).serviceEmployees.visibility?St((t(),i("div",jl,[J(Ct,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(_),D=>(t(),ge($t,{key:D.id,side:""},{heading:R(()=>[a("div",{class:V([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[a("div",Hl,[J(nt,{"item-class":"am-fcis__info-employee__img","item-data":D,"trim-string":3},null,8,["item-data"]),a("div",ql,[a("div",Gl,[me(l(D.firstName)+" "+l(D.lastName)+" ",1),D.badge?(t(),i("span",{key:0,style:re({background:D.badge.color}),class:"am-fcis__info-employee__badge"},l(D.badge.content),5)):r("",!0)]),ve(D)&&e(H).serviceEmployeePrice.visibility?(t(),i("div",Jl,l(ve(D)),1)):r("",!0)])])],2)]),default:R(()=>[e(Oe)(D.description)?(t(),i("div",{key:0,class:V(["am-fcis__info-employee__description",{"ql-description":D.description.includes("<!-- Content -->")}]),innerHTML:D.description},null,10,Yl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[wt,e(ne)==="employees"]]):r("",!0)])])):r("",!0),e(_e).length&&e(X).show!=="services"&&e(H).servicePackages.visibility&&!e(Ne)(e(U))?(t(),i("div",Ql,[a("div",Xl,[a("span",Zl,l(e(P).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:B[7]||(B[7]=()=>de(fe)?fe.value=!e(fe):fe=!e(fe))},[e(fe)?(t(),i(Z,{key:1},[me(l(e(P).less_packages),1)],64)):(t(),i(Z,{key:0},[me(l(e(P).more_packages),1)],64))])):r("",!0)]),(t(!0),i(Z,null,ye(e(ee),D=>(t(),i("div",{key:D.id,class:"am-fcis__include",onClick:w=>ze(D)},[a("div",eo,[e(m)>450?(t(),ge(nt,{key:0,"item-class":"am-fcis__include-img","item-data":D,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:V([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[a("div",{class:V(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[a("div",{class:V(["am-fcis__include-name",{"am-mobile":e(m)<600}])},l(D.name),3),e(H).packagePrice.visibility?(t(),i("div",to,[D.discount?(t(),i("span",ao,l(`${e(P).save} ${D.discount}%`),1)):r("",!0),a("span",io,l(D.price?e(Ze)(e(Mt)(D)):e(P).free),1),(e(H).tax?.visibility??!0)&&e(ft)(e(U),D.id,"package")?(t(),i("span",so,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(P).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(P).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",lo,[e(H).packageCategory.visibility&&e(Ce)?(t(),i("div",oo,[no,a("span",null,l(e(Ce).name),1)])):r("",!0),e(H).packageDuration.visibility?(t(),i("div",co,[ro,D.endDate?(t(),i("span",uo,l(`${e(P).expires_at} ${D.endDate.split(" ")[0]}`),1)):D.durationCount?(t(),i("span",mo,l(`${e(P).expires_after} ${D.durationCount} ${xe(D.durationCount,D.durationType)}`),1)):(t(),i("span",po,l(e(P).without_expiration),1))])):r("",!0),e(H).packageCapacity.visibility?(t(),i("div",_o,go)):r("",!0),e(H).packageLocation.visibility&&e(Le).length?(t(),i("div",yo,[ho,a("span",null,l(e(Le).length===1?e(Le)[0].address?e(Le)[0].address:e(Le)[0].name:e(P).multiple_locations),1)])):r("",!0),e(H).packageServices.visibility?(t(),i("div",bo,[a("span",null,l(`${e(P).in_package}:`),1),(t(!0),i(Z,null,ye(D.bookable,w=>(t(),i("span",{key:w.id},l(w.service.name),1))),128))])):r("",!0)])],2)])],8,Kl))),128))])):r("",!0),J(rt,{modelValue:e(M),"onUpdate:modelValue":B[9]||(B[9]=D=>de(M)?M.value=D:M=D),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Be),onClosed:Ee},{default:R(()=>[J(Ut,{"show-cart":e(p),onAddToCart:q,onEmptiedCart:B[8]||(B[8]=D=>de(M)?M.value=!1:M=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ke)?(t(),i("div",ko,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Co),a("div",$o,l(e(P).oops),1),a("div",So,l(e(X).show!=="packages"?e(P).no_services_employees:e(P).no_package_services),1),a("div",wo,[e(X).show!=="packages"?(t(),i("span",xo,l(e(P).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Po,l(e(P).add_services_url)+"\xA0 ",1),e(X).show!=="packages"?(t(),i("span",Io,l(e(P).and)+"\xA0 ",1)):r("",!0),e(X).show!=="packages"?(t(),i("a",Eo,l(e(P).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const To={class:"am-fcip__header-text"},Bo={class:"am-fcip__header-name"},Fo={key:0,class:"am-fcip__badge am-package"},zo=a("span",{class:"am-icon-shipment"},null,-1),Ao={class:"am-fcip__header-action"},Ro={key:0,class:"am-fcip__header-discount"},Oo={key:1,class:"am-fcip__header-price"},Mo={key:2,class:"am-fcip__header-tax"},Vo={class:"am-fcip__header-btn"},No={key:0,class:"am-fcip__header-bottom"},Uo={class:"am-fcip__mini-info"},Wo={key:0,class:"am-fcip__mini-info__inner"},jo=a("span",{class:"am-icon-folder"},null,-1),Ho={key:1,class:"am-fcip__mini-info__inner"},qo=a("span",{class:"am-icon-clock"},null,-1),Go={key:0},Jo={key:1},Yo={key:2},Qo={key:2,class:"am-fcip__mini-info__inner"},Xo=a("span",{class:"am-icon-user"},null,-1),Zo=a("span",null,"1/1",-1),Ko=[Xo,Zo],en={key:3,class:"am-fcip__mini-info__inner"},tn=a("span",{class:"am-icon-locations"},null,-1),an={key:0,class:"am-fcip__gallery"},sn={key:0,class:"am-fcip__gallery-thumb__wrapper"},ln=a("span",{class:"am-icon-gallery"},null,-1),on={class:"am-gd__display-wrapper"},nn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},cn=["src","alt"],rn={class:"am-gd__selection"},un={class:"am-gd__thumb-wrapper"},dn=["onClick"],mn={key:1,class:"am-fcip__info"},pn={class:"am-fcip__info-tab__wrapper"},_n={class:"am-fcip__info-content__wrapper"},fn={key:0,class:"am-fcip__info-content"},vn=["innerHTML"],gn={key:1,class:"am-fcip__info-content"},yn={class:"am-fcip__info-employee"},hn={class:"am-fcip__info-employee__hero"},bn={class:"am-fcip__info-employee__name"},kn=["innerHTML"],Cn={key:2,class:"am-fcip__include-wrapper"},$n={class:"am-fcip__include-heading"},Sn={class:"am-fcip__include-heading__text"},wn={class:"am-fcip__include-service"},xn={class:"am-fcip__include-service__info"},Pn={key:0},In=["innerHTML"],En={class:"am-fcip__include-footer"},Dn={class:"am-fcip__include-footer__text"},Ln={key:1,ref:"ameliaContainer",class:"am-empty"},Tn=["src"],Bn={class:"am-empty__heading"},Fn={class:"am-empty__subheading"},zn={class:"am-empty__text"},An={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Rn={name:"CategoryPackage"},On=Object.assign(Rn,{setup(f){let{previousPage:L}=z("changingPageFunctions",{previousPage:()=>{}}),u=x(),$=z("containerWidth");const C=z("settings"),T=z("baseUrls");let m=tt();const s=z("shortcodeData"),d=y(()=>m.getters["entities/getPreselected"]);let g=z("amEntities"),S=z("customizedDataForm"),k=y(()=>S.value.categoryPackage.options),P=y(()=>"pageScroll"in k.value?k.value.pageScroll.visibility:!0),v=z("itemType"),U=z("categorySelected"),te=y(()=>g.value.categories.find(X=>X.id===U.value)),E=y(()=>g.value.packages.find(X=>X.id===m.getters["booking/getPackageId"])),F=x(0),c=x("description"),H=y(()=>ta(g.value,E.value,s.value)),oe=y(()=>lt(g.value,E.value,s.value)),G=x(d.value.employee.length>0?g.value.unfilteredEmployees.filter(X=>d.value.employee.map(W=>parseInt(W)).includes(X.id)):g.value.unfilteredEmployees);function pe(X){let W=[];return X.providers.length?X.providers.forEach(A=>{G.value.find(ue=>ue.id===parseInt(A.id))&&W.push(G.value.find(ue=>ue.id===parseInt(A.id)))}):W=G.value.filter(A=>A.serviceList.find(ue=>ue.id===X.service.id)),W}Fe(()=>{k.value.packageDescription.visibility||(c.value="employees"),Oe(E.value.description)||(c.value="employees")});let Ce=x(!1);Rt(()=>{Ce.value=m.getters["entities/getEmployees"].length===0||H.value.length===0});let N=x(!1),he=y(()=>{let X=E.value.gallery.length?JSON.parse(JSON.stringify(E.value.gallery)):[];return E.value.gallery.length===1?[]:(X.shift(),X.length>2&&X.splice(2,X.length-2),X)});function ne(){v.value="",we(()=>{L()})}let _=x(!1),ve=x("760px");se("bookingDialogWidth",ve);function $e(){m.commit("booking/setPackageId",E.value.id),m.commit("booking/setMultipleAppointments",Pt(0,E.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),we(()=>{_.value=!0})}z("restoreFormData").value&&$e();let fe=x("");se("stepName",fe);function ee(){let X=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),W=X.settings?JSON.parse(X.settings):C;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Le(){fe.value&&fe.value==="CongratulationsStep"?ee():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),ve.value="760px"}let Te=z("amFonts");const p=z("labels"),Y=z("localLanguage");let q=y(()=>C.general.usedLanguages.includes(Y.value)),M=y(()=>{let X=at({...p});if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let W=C.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(A=>{W[A][Y.value]&&q.value?X[A]=W[A][Y.value]:W[A].default&&(X[A]=W[A].default)})}return X});function Be(X,W){let A="";return X>1?(W==="day"&&(A=M.value.expires_days),W==="week"&&(A=M.value.expires_weeks),W==="month"&&(A=M.value.expires_months)):(W==="day"&&(A=M.value.expires_day),W==="week"&&(A=M.value.expires_week),W==="month"&&(A=M.value.expires_month)),A}let ie=z("amColors"),Ue=y(()=>({"--am-c-fcip-success-op20":ae(ie.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(ie.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(ie.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(ie.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(ie.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(ie.value.colorBtnSec,.5)})),ze=y(()=>({"--am-c-fcip-bgr":ie.value.colorMainBgr,"--am-c-fcip-text":ie.value.colorMainText,"--am-c-fcip-success":ie.value.colorSuccess,"--am-c-fcip-primary":ie.value.colorPrimary,"--am-c-scroll-op30":ae(ie.value.colorPrimary,.3),"--am-c-scroll-op10":ae(ie.value.colorPrimary,.1),"--am-font-family":Te.fontFamily}));return(X,W)=>(t(),i(Z,null,[e(Ce)?r("",!0):(t(),ge(Nt,{key:0,ref_key:"contentRef",ref:u,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(P)?"":"no-scroll"}`,style:re(e(Ue))},Ot({heading:R(()=>[a("div",{class:V([[{"am-tablet":e($)<=678},{"am-mobile":e($)<450}],"am-fcip__header-top"])},[a("div",To,[a("span",Bo,[a("span",null,l(e(E).name),1)]),e(k).packageBadge.visibility?(t(),i("div",Fo,[zo,a("span",null,l(e(M).package),1)])):r("",!0)]),a("div",Ao,[e(E).discount&&e(k).packagePrice.visibility?(t(),i("span",Ro,l(`${e(M).save} ${e(E).discount}%`),1)):r("",!0),e(k).packagePrice.visibility?(t(),i("span",Oo,l(e(E).price?e(Ze)(e(Mt)(e(E))):e(M).free),1)):r("",!0),e(E).price&&(e(k).tax?.visibility??!0)&&e(ft)(e(m),e(E).id,"package")?(t(),i("span",Mo,[e(C).payments.taxes.excluded?(t(),i(Z,{key:0},[me(l(`+${e(M).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[me(l(e(M).incl_tax),1)],64))])):r("",!0),a("span",Vo,[J(Re,{type:e(k).bookingBtn.buttonType,onClick:$e},{default:R(()=>[me(l(e(M).book_now),1)]),_:1},8,["type"])])])],2),e(k).packageCategory.visibility&&e(d).package.length!==1||e(k).packageDuration.visibility||e(k).packageCapacity.visibility||e(k).packageLocation.visibility&&e(oe).length?(t(),i("div",No,[a("div",Uo,[e(d).package.length!==1&&e(k).packageCategory.visibility&&e(te)?(t(),i("div",Wo,[jo,a("span",null,l(e(te).name),1)])):r("",!0),e(k).packageDuration.visibility?(t(),i("div",Ho,[qo,e(E).endDate?(t(),i("span",Go,l(`${e(M).expires_at} ${e(E).endDate.split(" ")[0]}`),1)):e(E).durationCount?(t(),i("span",Jo,l(`${e(M).expires_after} ${e(E).durationCount} ${Be(e(E).durationCount,e(E).durationType)}`),1)):(t(),i("span",Yo,l(e(M).without_expiration),1))])):r("",!0),e(k).packageCapacity.visibility?(t(),i("div",Qo,Ko)):r("",!0),e(oe).length&&e(k).packageLocation.visibility?(t(),i("div",en,[tn,a("span",null,l(e(oe).length===1?e(oe)[0].address?e(oe)[0].address:e(oe)[0].name:e(M).multiple_locations),1)])):r("",!0)])])):r("",!0)]),content:R(()=>[e(E).gallery.length?(t(),i("div",an,[a("div",{class:V(["am-fcip__gallery-hero",[{w100:e(E).gallery.length===1},{"am-mobile w100":e($)<678}]]),style:re({backgroundImage:`url(${e(E).gallery[0].pictureFullPath})`})},null,6),e(he).length&&e($)>677?(t(),i("div",sn,[(t(!0),i(Z,null,ye(e(he),(A,ue)=>(t(),i("div",{key:ue,class:V(["am-fcip__gallery-thumb",{"am-one-thumb":e(he).length===1}]),style:re({backgroundImage:`url(${A.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Re,{"custom-class":`am-fcip__gallery-btn${e($)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>de(N)?N.value=!0:N=!0)},{default:R(()=>[ln,a("span",null,l(e(M).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(rt,{modelValue:e(N),"onUpdate:modelValue":W[4]||(W[4]=A=>de(N)?N.value=A:N=A),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:re(e(ze))},[a("div",on,[a("div",nn,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>de(F)?F.value=e(F)<=0?e(E).gallery.length-1:e(F)-1:F=e(F)<=0?e(E).gallery.length-1:e(F)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>de(F)?F.value=e(E).gallery.length-1===e(F)?0:e(F)+1:F=e(E).gallery.length-1===e(F)?0:e(F)+1)})]),(t(!0),i(Z,null,ye(e(E).gallery,(A,ue)=>(t(),i("div",{key:ue,class:"am-gd__display",style:re({display:ue===e(F)?"flex":"none"}),onClick:W[3]||(W[3]=()=>de(F)?F.value=e(E).gallery.length-1===e(F)?0:e(F)+1:F=e(E).gallery.length-1===e(F)?0:e(F)+1)},[a("img",{src:A.pictureFullPath,alt:ue},null,8,cn)],4))),128))]),a("div",rn,l(`${e(F)+1}/${e(E).gallery.length}`),1),a("div",un,[(t(!0),i(Z,null,ye(e(E).gallery,(A,ue)=>(t(),i("div",{key:ue,class:V(["am-gd__thumb",{"am-active":ue===e(F)}]),style:re({backgroundImage:`url(${A.pictureFullPath})`}),onClick:()=>de(F)?F.value=ue:F=ue},null,14,dn))),128))])],4)]),_:1},8,["modelValue"]),e(k).packageDescription.visibility&&e(Oe)(e(E).description)||e(k).packageEmployees.visibility?(t(),i("div",mn,[a("div",pn,[e(Oe)(e(E).description)&&e(k).packageDescription.visibility?(t(),i("div",{key:0,class:V(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>de(c)?c.value="description":c="description")},l(e(M).about_package),3)):r("",!0),e(k).packageEmployees.visibility?(t(),i("div",{key:1,class:V([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>de(c)?c.value="employees":c="employees")},l(e(M).tab_employees),3)):r("",!0)]),a("div",_n,[e(Oe)(e(E).description)&&e(k).packageDescription.visibility?St((t(),i("div",fn,[a("div",{class:V(["am-fcip__info-service__desc",{"ql-description":e(E).description.includes("<!-- Content -->")}]),innerHTML:e(E).description},null,10,vn)],512)),[[wt,e(c)==="description"]]):r("",!0),e(k).packageEmployees.visibility?St((t(),i("div",gn,[J(Ct,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(H),A=>(t(),ge($t,{key:A.id,side:""},{heading:R(()=>[a("div",yn,[a("div",hn,[J(nt,{"item-class":"am-fcip__info-employee__img","item-data":A,"trim-string":3},null,8,["item-data"]),a("div",bn,[me(l(A.firstName)+" "+l(A.lastName)+" ",1),A.badge?(t(),i("span",{key:0,style:re({background:A.badge.color}),class:"am-fcip__info-employee__badge"},l(A.badge.content),5)):r("",!0)])])])]),default:R(()=>[e(Oe)(A.description)?(t(),i("div",{key:0,class:V(["am-fcip__info-employee__description",{"ql-description":A.description.includes("<!-- Content -->")}]),innerHTML:A.description},null,10,kn)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[wt,e(c)==="employees"]]):r("",!0)])])):r("",!0),e(k).packageServices.visibility?(t(),i("div",Cn,[a("div",$n,[a("span",Sn,l(`${e(M).package_includes}:`),1)]),J(Ct,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(E).bookable,A=>(t(),ge($t,{key:A.id,side:!0},{heading:R(()=>[a("div",wn,[J(nt,{"item-class":"am-fcip__include-service__img","item-data":A.service},null,8,["item-data"]),me(" "+l(A.service.name+(e(E).sharedCapacity?"":" x"+A.quantity)),1)])]),default:R(()=>[a("div",xn,[a("span",null,l(`${e(M).tab_employees}:`),1),(t(!0),i(Z,null,ye(pe(A).slice(0,6),ue=>(t(),ge(nt,{key:ue.id,"item-class":"am-fcip__include-service__info-name","item-data":ue,"trim-string":3},null,8,["item-data"]))),128)),pe(A).length>6?(t(),i("span",Pn," + "+l(pe(A).length-6),1)):r("",!0),e(Oe)(A.service.description)?(t(),i("div",{key:1,class:V(["am-fcip__include-service__info-description",{"ql-description":A.service.description.includes("<!-- Content -->")}]),innerHTML:A.service.description},null,10,In)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",En,[a("span",Dn,l(e(M).package_book_service),1)])])):r("",!0),J(rt,{modelValue:e(_),"onUpdate:modelValue":W[7]||(W[7]=A=>de(_)?_.value=A:_=A),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ve),onClosed:Le},{default:R(()=>[J(Ut)]),_:1},8,["modelValue","width"])]),_:2},[e(d).package.length!==1?{name:"header",fn:R(()=>[J(Vt,{"btn-string":e(M).back_btn,"btn-type":e(k).backBtn.buttonType,onGoBack:ne},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(Ce)?(t(),i("div",Ln,[a("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Tn),a("div",Bn,l(e(M).oops),1),a("div",Fn,l(e(M).no_package_services),1),a("div",zn,[a("a",An,l(e(M).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const Mn={name:"CatalogSkeleton"},Vn=Object.assign(Mn,{setup(f){let L=x(null),u=x(0);window.addEventListener("resize",$);function $(){L.value&&(u.value=L.value.offsetWidth)}Fe(()=>{L.value&&(u.value=L.value.offsetWidth)});let C=y(()=>u.value<=500?"am-w100":u.value<=600?"am-w50":u.value<=768?"am-w33":"");return(T,m)=>{const s=ja,d=Wa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:L,class:"am-skeleton-catalog__wrapper"},[J(d,{animated:"",class:"am-skeleton-catalog"},{template:R(()=>[(t(!0),i(Z,null,ye(new Array(8),g=>(t(),i("div",{key:g,class:V(["am-skeleton-catalog__item",e(C)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Nn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Un=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Wn=["href"],jn={name:"CatalogFormWrapper"},Hn=Object.assign(jn,{emits:["isRestored"],setup(f,{emit:L}){let u=z("isMounted"),$=z("licence"),C=x(null),T=x(20);const m=z("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",d);function d(){C.value&&(s.value=C.value.offsetWidth)}Fe(()=>{P.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+k.value.counter).classList.add("amelia-v2-booking-"+k.value.counter+"-loaded"),_t(P,{},"ViewContent","appointment",null,null),d(),u.value=!0,Yt("scrollForm",{offsetFromTop:T})});let g=x(!1);const S=z("settings"),k=z("shortcodeData"),P=tt();P.commit("entities/setPreselected",k.value),P.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:$,loadEntities:k.value.trigger||window.ameliaShortcodeData.filter(Y=>!Y.hasApiCall).length===window.ameliaShortcodeData.length?!0:k.value.hasApiCall,showHidden:!1,isPanel:!1});const v=Se(Li),U=Se(ml),te=Se(Lo),E=Se(On);let F=x([v,U]),c=x(0),H=x(null);se("categorySelected",H);let oe=x([]);se("availableCategories",oe);let G=x("");se("itemType",G),kt(G,()=>{G.value==="appointment"&&F.value.push(te),G.value==="package"&&F.value.push(E),G.value===""&&F.value.forEach((Y,q)=>{Y.name==="CategoryService"&&pe(F.value,q),Y.name==="CategoryPackage"&&pe(F.value,q)})});function pe(Y,q){Y.splice(q,1)}function Ce(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function N(){if(c.value=c.value+1,Ce())setTimeout(()=>{let Y=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Y,behavior:"smooth"})},500);else{let Y=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:Y,behavior:"smooth"})}}function he(){c.value=c.value-1}se("changingPageFunctions",{nextPage:N,previousPage:he});let ne=y(()=>P.getters["entities/getReady"]),_=y(()=>P.state.entities);se("amEntities",_);function ve(){let Y=P.getters["entities/getPreselected"];if(Y.category.length!==1&&(k.value.categories_hidden&&(oe.value=JSON.parse(JSON.stringify(bt(_.value,k.value))),we(()=>{let q=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(q,1)})),k.value.categories_hidden||(oe.value=JSON.parse(JSON.stringify(bt(_.value,k.value))),we(()=>{if(oe.value.length===1){P.commit("booking/setCategoryId",parseInt(oe.value[0].id)),H.value=parseInt(oe.value[0].id);let q=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(q,1)}}))),Y.category.length===1&&(P.commit("booking/setCategoryId",parseInt(Y.category)),H.value=parseInt(Y.category[0]),oe.value=JSON.parse(JSON.stringify(bt(_.value,k.value).filter(q=>q.id===parseInt(Y.category[0])))),we(()=>{let q=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(q,1)})),Y.service.length===1){P.commit("booking/setServiceId",parseInt(Y.service[0]));let q=P.getters["entities/getService"](parseInt(Y.service[0]));H.value=q?parseInt(q.categoryId):null,P.commit("booking/setCategoryId",q?parseInt(q.categoryId):null),we(()=>{F.value=[],F.value.push(te)})}Y.employee.length===1&&P.commit("booking/setEmployeeId",parseInt(Y.employee[0])),Y.location.length===1&&P.commit("booking/setLocationId",parseInt(Y.location[0])),Y.package.length===1&&P.getters["entities/getPackages"].length&&(F.value=[],P.commit("booking/setPackageId",parseInt(Y.package[0])),we(()=>{F.value.push(E)})),Y.show==="packages"?P.commit("booking/setBookableType","package"):P.commit("booking/setBookableType","appointment")}let $e=y(()=>ne.value?qa(P,k.value):null);se("restoreFormData",$e),kt(ne,Y=>{Y&&(ve(),g.value=P.getters["entities/getServices"].length===0||P.getters["entities/getEmployees"].length===0,$e.value&&(G.value=P.state.booking.appointment.type,we(()=>{c.value=F.value.length-1,H.value=P.state.booking.appointment.categoryId,L("isRestored",$e.value)})))});let _e=y(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf:ot.cbf);se("customizedDataForm",_e);const fe=x(S.customizedData?S.customizedData.fonts:ot.fonts);se("amFonts",fe);let ee=y(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf.colors:ot.cbf.colors);se("amColors",ee);let Le=y(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":fe.value.fontFamily}));function Te(){let Y=document.head||document.getElementsByTagName("head")[0];Y.querySelector("#amCustomFont")&&Y.querySelector("#amCustomFont").remove();let q=`@font-face {font-family: '${fe.value.fontFamily}'; src: url(${fe.value.fontUrl});}`,M=document.createElement("style");Y.appendChild(M),M.setAttribute("type","text/css"),M.setAttribute("id","amCustomFont"),M.appendChild(document.createTextNode(q))}fe.value.customFontSelected&&Te();let p=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",p),(Y,q)=>(t(),i(Z,null,[fe.value.customFontSelected?r("",!0):(t(),i(Z,{key:0},[Nn,Un,a("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Wn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:re(e(Le))},[e(ne)&&e(F).length?(t(),ge(Qt(e(F)[e(c)]),{key:0})):(t(),ge(Vn,{key:1}))],4),J(e(Ha))],64))}});var Gn=Object.freeze(Object.defineProperty({__proto__:null,default:Hn},Symbol.toStringTag,{value:"Module"}));export{Gn as C,xt as _,rt as a,ni as b,Vt as c,nt as d,Nt as e,Hn as f};
